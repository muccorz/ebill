{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\n// Flatpickrを導入する\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.css';\nimport 'flatpickr/dist/l10n/ja';\nexport default {\n  // 时间格式约束\n  filters: {\n    formatDate(value) {\n      if (!value) return '';\n      // 替换 / 为 -\n      const date = new Date(value);\n      return date.toLocaleDateString().replace(/\\//g, '-');\n    },\n    formatDateTime(value) {\n      if (!value) return '';\n      const options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      };\n      const formattedDateTime = new Date(value).toLocaleString(undefined, options).replace(/\\//g, '-');\n      return formattedDateTime;\n    }\n  },\n  name: 'billView',\n  data() {\n    return {\n      drawerflag: false,\n      multipleSelection: [],\n      //ロジック処理\n      conditionFlag: false,\n      sortFlag: false,\n      onSubmitFlag: false,\n      getEditWaitBillFlag: false,\n      getApplyEditPermissonsFlag: false,\n      //ボタンの有効化\n      editBt: true,\n      agreeBt: true,\n      disagreeBt: true,\n      reviewBt: false,\n      downloadBt: false,\n      editPermissonsBt: false,\n      applyEditPermissonsBt: false,\n      rolesno1Bt: false,\n      givePermission: false,\n      applyPermission: false,\n      getEditWaitBillBt: false,\n      //順番処理\n      sort: false,\n      order: '',\n      //ページング部分の機能\n      totalBill: 0,\n      currentPage: 1,\n      pagesize: 10,\n      //条件付き検索部分の機能\n      customers: [],\n      billTypes: [],\n      updateUsers: [],\n      timeout: null,\n      date: '',\n      Logs: [],\n      searchManages: [],\n      //帳票詳細\n      bill: {\n        billno: '',\n        billType: '',\n        customer: '',\n        remark: '',\n        transactionAmount: '',\n        transactionymd: '',\n        updateUserName: '',\n        updateymd: '',\n        reviewStatus: '',\n        editPermissions: false,\n        imageUrl: ''\n      },\n      //帳票一覧\n      billTableData: [],\n      //検索条件\n      condition: {\n        transactionDateFrom: '',\n        transactionDateTo: '',\n        transactionAmountFrom: '',\n        transactionAmountTo: '',\n        customerno: '',\n        billTypeno: '',\n        updateuserid: '',\n        searchManage: ''\n      }\n    };\n  },\n  computed: {\n    exportBt() {\n      if (this.multipleSelection.length == 0) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n  methods: {\n    //   \n    handleSizeChange(size) {\n      this.pagesize = size;\n      this.getBillsByFlag();\n    },\n    //順番処理\n    sortChange(column) {\n      this.sort = column.order;\n      this.order = column.prop;\n      this.sortFlag = true;\n      this.currentPage = 1;\n      if (this.conditionFlag == true) {\n        this.$http.post('/bill/conditionSearch', {\n          currentPage: this.currentPage,\n          pagesize: this.pagesize,\n          condition: this.condition,\n          sort: this.sort,\n          order: this.order\n        }).then(res => {\n          if (res.data.code == 200) {\n            this.billTableData = res.data.data;\n            this.totalBill = res.data.data[0].totalBill;\n          }\n        });\n      } else if (this.onSubmitFlag == true) {\n        this.$http.post('/bill/getOnSubmit', {\n          currentPage: this.currentPage,\n          pagesize: this.pagesize,\n          sort: this.sort,\n          order: this.order\n        }).then(res => {\n          if (res.data.code == 200) {\n            this.billTableData = res.data.data;\n            this.totalBill = res.data.data[0].totalBill;\n          }\n        });\n      } else if (this.getEditWaitBillFlag == true) {\n        this.$http.post('/bill/getEditWaitBill', {\n          currentPage: this.currentPage,\n          pagesize: this.pagesize,\n          order: this.sort,\n          prop: this.order\n        }).then(res => {\n          if (res.data.code == 200) {\n            this.billTableData = res.data.data;\n            this.totalBill = res.data.data[0].totalBill;\n          }\n        });\n      } else {\n        this.$http.post('/bill/getBills', {\n          currentPage: this.currentPage,\n          pagesize: this.pagesize,\n          order: this.sort,\n          prop: this.order\n        }).then(res => {\n          if (res.data.code == 200) {\n            this.billTableData = res.data.data;\n          }\n        });\n      }\n    },\n    //金額のチェック\n    checkAmountFrom() {\n      if (!/^-?\\d+$/.test(this.condition.transactionAmountFrom) && this.condition.transactionAmountFrom != '') {\n        this.$message({\n          type: 'error',\n          message: '整数のみ入力'\n        });\n        this.condition.transactionAmountFrom = '';\n      }\n    },\n    checkAmountTo() {\n      if (!/^-?\\d+$/.test(this.condition.transactionAmountTo) && this.condition.transactionAmountTo != '') {\n        this.$message({\n          type: 'error',\n          message: '整数のみ入力'\n        });\n        this.condition.transactionAmountTo = '';\n      }\n    },\n    //編集権限を付くボタン\n    giveEditPermissons() {\n      console.log(\"--------------\");\n      this.$http.get('/bill/giveEditPermissons/' + this.bill.billno).then(res => {\n        if (res.data.code == 200) {\n          this.$message({\n            type: 'success',\n            message: '編集権限を付く完了'\n          });\n        }\n      });\n    },\n    //改修権限を申請ボタン\n    applyEditPermissons() {\n      this.$http.get('/bill/applyEditPermissons/' + this.bill.billno).then(res => {\n        if (res.data.code == 200) {\n          this.$message({\n            type: 'success',\n            message: '改修権限を申請しました'\n          });\n        }\n      });\n    },\n    //編集ボタン\n    edit() {\n      this.$router.push({\n        path: '/edit/' + this.bill.billno\n      });\n    },\n    //承認ボタン\n    agree() {\n      console.log(\"进入agree\");\n      this.$http.get('/bill/agreeBill/' + this.bill.billno).then(res => {\n        console.log(res);\n        if (res.data.code == 200) {\n          this.$message({\n            type: 'success',\n            message: '承認完了'\n          });\n          this.drawerflag = false;\n        }\n      });\n    },\n    //拒否ボタン\n    disagree() {\n      this.$http.get('/bill/disagreeBill/' + this.bill.billno).then(res => {\n        if (res.data.code == 200) {\n          this.$message({\n            type: 'success',\n            message: '拒否完了'\n          });\n          this.drawerflag = false;\n        }\n      });\n    },\n    //ページジャンプ\n    pageCurrentChange(val) {\n      this.currentPage = val;\n      this.getBillsByFlag();\n    },\n    //条件付き検索・承認待ち・ソート機能を別で帳票データを取得する\n    getBillsByFlag() {\n      if (this.sortFlag == false) {\n        if (this.conditionFlag == true) {\n          this.$http.post('/bill/conditionSearch', {\n            currentPage: this.currentPage,\n            pagesize: this.pagesize,\n            condition: this.condition\n          }).then(res => {\n            if (res.data.code == 200) {\n              this.billTableData = res.data.data;\n              this.totalBill = res.data.data[0].totalBill;\n            }\n          });\n        } else if (this.onSubmitFlag == true) {\n          this.$http.post('/bill/getOnSubmit', {\n            currentPage: this.currentPage,\n            pagesize: this.pagesize\n          }).then(res => {\n            if (res.data.code == 200) {\n              this.billTableData = res.data.data;\n              this.totalBill = res.data.data[0].totalBill;\n            }\n          });\n        } else if (this.getEditWaitBillFlag == true) {\n          this.$http.post('/bill/getEditWaitBill', {\n            currentPage: this.currentPage,\n            pagesize: this.pagesize\n          }).then(res => {\n            if (res.data.code == 200) {\n              this.billTableData = res.data.data;\n              this.totalBill = res.data.data[0].totalBill;\n            }\n          });\n        } else {\n          this.getBills();\n        }\n      } else {\n        if (this.conditionFlag == true) {\n          this.$http.post('/bill/conditionSearch', {\n            currentPage: this.currentPage,\n            pagesize: this.pagesize,\n            condition: this.condition,\n            sort: this.sort,\n            order: this.order\n          }).then(res => {\n            if (res.data.code == 200) {\n              this.billTableData = res.data.data;\n              this.totalBill = res.data.data[0].totalBill;\n            }\n          });\n        } else if (this.getEditWaitBillFlag == true) {\n          this.$http.post('/bill/getEditWaitBill', {\n            currentPage: this.currentPage,\n            pagesize: this.pagesize,\n            sort: this.sort,\n            order: this.order\n          }).then(res => {\n            if (res.data.code == 200) {\n              this.billTableData = res.data.data;\n              this.totalBill = res.data.data[0].totalBill;\n            }\n          });\n        } else {\n          this.$http.post('/bill/getBills', {\n            currentPage: this.currentPage,\n            pagesize: this.pagesize,\n            sort: this.sort,\n            order: this.order\n          }).then(res => {\n            if (res.data.code == 200) {\n              this.billTableData = res.data.data;\n              this.totalBill = res.data.data[0].totalBill;\n            }\n          });\n        }\n      }\n    },\n    //帳票詳細をクリアする\n    clearBill() {\n      this.bill = {\n        billType: '',\n        customer: '',\n        remark: '',\n        transactionAmount: '',\n        transactionymd: '',\n        updateUserName: '',\n        updateymd: '',\n        imageUrl: '',\n        Logs: []\n      };\n    },\n    //帳票データを取得する\n    getBills() {\n      this.$http.post('/bill/getBills', {\n        currentPage: this.currentPage,\n        pagesize: this.pagesize\n      }).then(res => {\n        if (res.data.code == 200) {\n          this.billTableData = res.data.data;\n          this.totalBill = res.data.data[0].totalBill;\n        }\n      });\n    },\n    //チェックボックスを選択する\n    handleSelectionChange(val) {\n      this.multipleSelection = [];\n      val.forEach(element => {\n        this.multipleSelection.push(element.billno);\n      });\n    },\n    //検索ボタン\n    search() {\n      const dateFrom = new Date(this.condition.transactionDateFrom);\n      const dateTo = new Date(this.condition.transactionDateTo);\n      if (dateFrom > dateTo) {\n        this.$message({\n          type: 'error',\n          message: '開始日は終了日より小さい'\n        });\n        return;\n      }\n      let AmountFrom = Number(this.condition.transactionAmountFrom);\n      let AmountTo = Number(this.condition.transactionAmountTo);\n      if (this.condition.transactionAmountFrom != '' && this.condition.transactionAmountTo != '') {\n        if (AmountFrom > AmountTo) {\n          this.$message({\n            type: 'error',\n            message: '金額範囲は0より小さい'\n          });\n          return;\n        }\n      }\n      this.conditionFlag = true;\n      this.onSubmitFlag = false;\n      this.getApplyEditPermissonsFlag = false;\n      this.currentPage = 1;\n      this.$http.post('/bill/conditionSearch', {\n        currentPage: this.currentPage,\n        pagesize: this.pagesize,\n        condition: this.condition\n      }).then(res => {\n        if (res.data.code == 200) {\n          this.billTableData = res.data.data;\n          this.totalBill = res.data.data[0].totalBill;\n        }\n      });\n    },\n    //クリアボタン  \n    clear() {\n      this.condition.transactionDateFrom = '';\n      this.condition.transactionDateTo = '';\n      this.condition.transactionAmountFrom = '';\n      this.condition.transactionAmountTo = '';\n      this.condition.customerno = '';\n      // \n      this.condition.searchManage = '';\n      // \n      this.condition.billTypeno = '';\n      this.condition.updateuserid = '';\n      this.onSubmitFlag = false;\n      this.conditionFlag = false;\n      this.getEditWaitBillFlag = false;\n      this.currentPage = 1;\n      this.sortFlag = false;\n      this.sort = null;\n      this.order = null;\n      this.getBills();\n    },\n    //承認待ちボタン\n    onSubmit() {\n      this.onSubmitFlag = true;\n      this.conditionFlag = false;\n      this.getEditWaitBillFlag = false;\n      this.currentPage = 1;\n      this.$http.post('/bill/getOnSubmit', {\n        currentPage: this.currentPage,\n        pagesize: this.pagesize\n      }).then(res => {\n        if (res.data.code == 200) {\n          this.billTableData = res.data.data;\n          this.totalBill = res.data.data[0].totalBill;\n        }\n      });\n    },\n    //改修権限申請待ちボタン\n    getEditWaitBill() {\n      this.onSubmitFlag = false;\n      this.conditionFlag = false;\n      this.getEditWaitBillFlag = true;\n      this.currentPage = 1;\n      this.$http.post('/bill/getEditWaitBill', {\n        currentPage: this.currentPage,\n        pagesize: this.pagesize\n      }).then(res => {\n        if (res.data.code == 200) {\n          this.billTableData = res.data.data;\n          this.totalBill = res.data.data[0].totalBill;\n        }\n      });\n    },\n    //ダウンロードボタン\n    download() {\n      this.$http.post('/bill/downloadBill', this.multipleSelection, {\n        responseType: 'blob'\n      }).then(res => {\n        const blob = new Blob([res.data]);\n        const url = window.URL.createObjectURL(blob);\n\n        // 创建一个 <a> 标签用于下载\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = 'downloaded_file.txt'; // 设置下载文件的名称\n        link.click();\n\n        // 释放资源\n        window.URL.revokeObjectURL(url);\n      });\n    },\n    //当帳票の詳細を表示する\n    handleRowClick(row) {\n      this.$http.get('/bill/getBillDetails/' + row.billno).then(res => {\n        if (res.data.code == 200) {\n          sessionStorage.setItem('billno', res.data.data[0].billno);\n          console.log(\"取值时候的session： \", sessionStorage.getItem('billno'));\n          // 新建的时候需要clear\n          this.Logs = [];\n          for (let i = 0; i < res.data.data.length; i++) {\n            if (i == 0) {\n              this.bill = res.data.data[i];\n              console.log(\"i=\", i, \":\", this.bill);\n            } else {\n              this.Logs.push(res.data.data[i]);\n            }\n          }\n        }\n        console.log(\"/////\");\n        console.log(\"this.bill: \", this.bill);\n\n        //編集権限を判断する\n        // agree的条件可能要改\n        // 置之死地而后生\n        if (sessionStorage.getItem(\"rolesno\") == 3) {\n          if (this.bill.reviewStatus == 1 || this.bill.reviewStatus == 2) {\n            // console.log(this.agreeBt)\n            this.agreeBt = true;\n            this.disagreeBt = true;\n          } else {\n            this.agreeBt = false;\n            this.disagreeBt = false;\n          }\n        } else {\n          this.agreeBt = false;\n          this.disagreeBt = false;\n        }\n        if (this.bill.reviewStatus == 6 && this.bill.editPermissions && sessionStorage.getItem(\"rolesno\") == 1) {\n          console.log(\"if-true\");\n          this.editBt = true;\n        } else {\n          console.log(\"if-else\");\n          this.editBt = false;\n        }\n        if (sessionStorage.getItem(\"rolesno\") == 3 && this.bill.reviewStatus == 5) {\n          this.givePermission = true;\n        } else {\n          this.givePermission = false;\n        }\n        if (this.bill.reviewStatus == 3) {\n          this.applyPermission = true;\n        } else {\n          this.applyPermission = false;\n        }\n        this.drawerflag = true;\n      });\n    },\n    //アップロードしたファイルを表示する\n    handleAvatarSuccess(response) {\n      this.bill.imageUrl = response;\n    },\n    //サーバーからデータを取得する\n    loadCustomers() {\n      this.$http.get('/category/getCustomers').then(res => {\n        if (res.data.code == 200) {\n          this.customers = res.data.data;\n        }\n      });\n    },\n    // 下拉菜单读取 searchManage\n    loadsearchManage() {\n      this.$http.get('/bill/getSearchmanage/' + sessionStorage.getItem('userid')).then(res => {\n        console.log(sessionStorage.getItem('userid'));\n        if (res.data.code == 200) {\n          this.searchManages = res.data.data;\n        }\n      });\n    },\n    // \n    loadBillTypes() {\n      this.$http.get('/category/getBillTypes').then(res => {\n        if (res.data.code == 200) {\n          this.billTypes = res.data.data;\n        }\n      });\n    },\n    loadUpdateUsers() {\n      this.$http.get('/bill/getUpdateUserids').then(res => {\n        if (res.data.code == 200) {\n          this.updateUsers = res.data.data;\n        }\n      });\n    },\n    isPDF(url) {\n      return url.toLowerCase().endsWith('.pdf');\n    }\n  },\n  //画面がロードされたら、取引先などのデータを取得する\n  mounted() {\n    this.loadCustomers();\n    this.loadBillTypes();\n    this.loadUpdateUsers();\n    this.loadsearchManage();\n    this.getBills();\n    var rolesno = sessionStorage.getItem(\"rolesno\");\n    switch (rolesno) {\n      case '1':\n        this.reviewBt = false;\n        this.downloadBt = false;\n        this.editBt = true;\n        this.getEditWaitBillBt = true;\n        this.applyEditPermissonsBt = true;\n        this.rolesno1Bt = true;\n        break;\n      case '2':\n        this.reviewBt = false;\n        this.downloadBt = true;\n        this.getApplyEditPermissonsBt = false;\n        break;\n      case '3':\n        this.reviewBt = true;\n        this.downloadBt = true;\n        this.agreeBt = false;\n        this.disagreeBt = false;\n        this.editPermissonsBt = true, this.getEditWaitBillBt = true;\n        this.applyEditPermissonsBt = false;\n        break;\n      case \"4\":\n        this.editFlag = true;\n        this.reviewBt = true;\n        this.downloadBt = true;\n        this.editBt = true;\n        this.agreeBt = false;\n        this.disagreeBt = false;\n        this.editPermissonsBt = true;\n        this.getEditWaitBillBt = true;\n        this.applyEditPermissonsBt = true;\n        break;\n    }\n\n    //日付の設定\n    flatpickr(this.$refs.datepickerInput1, {\n      dateFormat: 'Y/m/d',\n      locale: 'ja',\n      firstDayOfWeek: '0',\n      allowInput: 'true',\n      minDate: \"1990/01/01\",\n      maxDate: \"today\"\n    });\n    flatpickr(this.$refs.datepickerInput2, {\n      dateFormat: 'Y/m/d',\n      locale: 'ja',\n      firstDayOfWeek: '0',\n      allowInput: 'true',\n      minDate: \"1990/01/01\",\n      maxDate: \"today\"\n    });\n  }\n};","map":{"version":3,"names":["flatpickr","filters","formatDate","value","date","Date","toLocaleDateString","replace","formatDateTime","options","year","month","day","hour","minute","second","formattedDateTime","toLocaleString","undefined","name","data","drawerflag","multipleSelection","conditionFlag","sortFlag","onSubmitFlag","getEditWaitBillFlag","getApplyEditPermissonsFlag","editBt","agreeBt","disagreeBt","reviewBt","downloadBt","editPermissonsBt","applyEditPermissonsBt","rolesno1Bt","givePermission","applyPermission","getEditWaitBillBt","sort","order","totalBill","currentPage","pagesize","customers","billTypes","updateUsers","timeout","Logs","searchManages","bill","billno","billType","customer","remark","transactionAmount","transactionymd","updateUserName","updateymd","reviewStatus","editPermissions","imageUrl","billTableData","condition","transactionDateFrom","transactionDateTo","transactionAmountFrom","transactionAmountTo","customerno","billTypeno","updateuserid","searchManage","computed","exportBt","length","methods","handleSizeChange","size","getBillsByFlag","sortChange","column","prop","$http","post","then","res","code","checkAmountFrom","test","$message","type","message","checkAmountTo","giveEditPermissons","console","log","get","applyEditPermissons","edit","$router","push","path","agree","disagree","pageCurrentChange","val","getBills","clearBill","handleSelectionChange","forEach","element","search","dateFrom","dateTo","AmountFrom","Number","AmountTo","clear","onSubmit","getEditWaitBill","download","responseType","blob","Blob","url","window","URL","createObjectURL","link","document","createElement","href","click","revokeObjectURL","handleRowClick","row","sessionStorage","setItem","getItem","i","handleAvatarSuccess","response","loadCustomers","loadsearchManage","loadBillTypes","loadUpdateUsers","isPDF","toLowerCase","endsWith","mounted","rolesno","getApplyEditPermissonsBt","editFlag","$refs","datepickerInput1","dateFormat","locale","firstDayOfWeek","allowInput","minDate","maxDate","datepickerInput2"],"sources":["src/views/search.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"h4\" style=\"font-weight: 700;text-align:left\">電子取引管理</div>\r\n        <el-divider></el-divider>\r\n        <!-- 条件付き検索 -->\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"16\">\r\n                <el-form :inline=\"true\" :model=\"condition\" class=\"demo-form-inline \">\r\n\r\n                    <!--  -->\r\n                    <el-form-item label=\"帳票状態\">\r\n                        <el-select v-model=\"condition.searchManage\" filterable placeholder=\"入力又は選択\">\r\n                            <el-option v-for=\"searchManage in searchManages\" :key=\"searchManage.conditionJapanese\"\r\n                            :label=\"searchManage.conditionJapanese\" :value=\"searchManage.conditionJapanese\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item><br>\r\n                    <!--  -->\r\n                    <el-form-item label=\"取引年月日\">\r\n                        <input type=\"text\" ref=\"datepickerInput1\" v-model=\"condition.transactionDateFrom\"\r\n                            class=\"el-input__inner\" placeholder=\"開始日\" style=\"width: 120px;\">\r\n                    </el-form-item>\r\n                    <el-form-item label=\"\">~</el-form-item>\r\n                    <el-form-item label=\"\">\r\n                        <input type=\"text\" ref=\"datepickerInput2\" v-model=\"condition.transactionDateTo\"\r\n                            class=\"el-input__inner\" placeholder=\"終了日\" style=\"width: 120px;\">\r\n                    </el-form-item>\r\n                    <el-form-item label=\"取引金額範囲\">\r\n                        <el-input v-model=\"condition.transactionAmountFrom\" placeholder=\"￥\" @blur=\"checkAmountFrom\"\r\n                            style=\"width: 100px;\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"\">~</el-form-item>\r\n                    <el-form-item label=\"\">\r\n                        <el-input v-model=\"condition.transactionAmountTo\" placeholder=\"￥\" @blur=\"checkAmountTo\"\r\n                            style=\"width: 100px;\"></el-input>\r\n                    </el-form-item>\r\n                    <br>\r\n                    <el-form-item label=\"取引先\">\r\n                        <el-select v-model=\"condition.customerno\" filterable placeholder=\"入力又は選択\">\r\n                            <el-option v-for=\"customer in customers\" :key=\"customer.customerno\"\r\n                                :label=\"customer.customer\" :value=\"customer.customerno\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n            \r\n                    <el-form-item label=\"帳票種類\">\r\n                        <el-select v-model=\"condition.billTypeno\" filterable placeholder=\"入力又は選択\">\r\n                            <el-option v-for=\"billType in billTypes\" :key=\"billType.billTypeno\"\r\n                                :label=\"billType.billType\" :value=\"billType.billTypeno\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>&nbsp;\r\n                    <el-form-item label=\"登録ユーザー\">\r\n                        <el-select v-model=\"condition.updateuserid\" filterable placeholder=\"入力又は選択\">\r\n                            <el-option v-for=\"updateUser in updateUsers\" :key=\"updateUser.updateuserid\"\r\n                                :label=\"updateUser.updateUserName\" :value=\"updateUser.updateuserid\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n                <el-button type=\"primary\" @click=\"search\">検 索</el-button>\r\n                <el-button type=\"warning\" @click=\"clear\">クリア</el-button>\r\n                <br>\r\n                <el-button type=\"primary\" @click=\"onSubmit\" v-if=\"reviewBt\">承認待ち</el-button>\r\n                <el-button type=\"primary\" @click=\"getEditWaitBill\" v-if=\"getEditWaitBillBt\">改修処理中</el-button>\r\n                <br>\r\n                <el-button type=\"primary\" @click=\"download\" v-if=\"downloadBt\" :disabled=\"exportBt\">エクスポート</el-button>\r\n            </el-col>\r\n        </el-row>\r\n\r\n        <!-- 帳票テーブル -->\r\n        <el-table :data=\"billTableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\"\r\n            @row-click=\"handleRowClick\" @sort-change=\"sortChange\">\r\n            <el-table-column type=\"selection\"></el-table-column>\r\n            <el-table-column prop=\"billno\" label=\"帳票番号\" sortable=\"sortable\">\r\n            </el-table-column>\r\n            <!-- 格式约束 -->\r\n            <el-table-column prop=\"transactionymd\" label=\"取引年月日\" sortable=\"sortable\">\r\n                <template slot-scope=\"{ row }\">\r\n                    {{ row.transactionymd | formatDate }}\r\n                </template>\r\n            </el-table-column>\r\n\r\n\r\n            <el-table-column prop=\"transactionAmount\" label=\"取引金額\" sortable=\"sortable\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"customer\" label=\"取引先\">\r\n            </el-table-column>\r\n            <!-- 进票出票 -->\r\n            <el-table-column prop=\"customer\" label=\"受領/発行\">\r\n            </el-table-column>\r\n            <!--  -->\r\n            <el-table-column prop=\"billType\" label=\"帳票種類\">\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 帳票詳細drawer -->\r\n\r\n        <el-drawer title=\"履歴\" :visible.sync=\"drawerflag\" size=\"80%\" @closed=\"clearBill\">\r\n            <div style=\"margin: 30px 100px; justify-content: space-around;\" class=\"d-flex\" style=\"justify-content: space-between;\">\r\n                <div style=\"width: 40%;\">\r\n                    <el-form ref=\"form\" :model=\"bill\" label-width=\"120px\" :disabled=\"true\">\r\n                        <el-form-item label=\"帳票No\">\r\n                            <span style=\"font-size: 16px;\">{{bill.billno}}</span>\r\n                        </el-form-item>\r\n                        <!-- 格式约束 -->\r\n                        <el-form-item label=\"取引年月日\">\r\n                        <el-input :value=\"bill.transactionymd | formatDate\" style=\"width: 85%;\"></el-input>\r\n                        </el-form-item>\r\n\r\n                        <el-form-item label=\"取引金額\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <el-input v-model=\"bill.transactionAmount\" style=\"width: 85%;\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"取引先\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <el-input v-model=\"bill.customer\" style=\"width: 85%;\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"帳票種類\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <el-input v-model=\"bill.billType\" style=\"width: 85%;\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"訂正備考\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <el-input type=\"textarea\" :rows=\"3\" v-model=\"bill.remark\" style=\"width: 85%;\"></el-input>\r\n                        </el-form-item>\r\n                        <!-- 时间约束 -->\r\n                        <el-form-item label=\"登録日時\">\r\n                        <el-input :value=\"$options.filters.formatDateTime(bill.updateymd)\" style=\"width: 85%;\" disabled></el-input>\r\n                        </el-form-item>\r\n\r\n                        <el-form-item label=\"登録ユーザー\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <el-input v-model=\"bill.updateUsername\" style=\"width: 85%;\"></el-input>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                    <el-button size=\"medium\" type=\"primary\" @click=\"edit\" :disabled=\"!editBt\" v-if=\"applyEditPermissonsBt\">訂正</el-button>\r\n                    <el-button size=\"medium\" type=\"primary\" @click=\"agree\" :disabled=\"!agreeBt \" v-if=\"editPermissonsBt\">承認</el-button>\r\n                    <el-button size=\"medium\" type=\"danger\" @click=\"disagree\"\r\n                        :disabled=\"!disagreeBt\" v-if=\"editPermissonsBt\">拒否</el-button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                    <el-button size=\"medium\" type=\"warning\" @click=\"giveEditPermissons\" :disabled=\"!givePermission\"\r\n                        v-if=\"editPermissonsBt\">訂正権限を付く</el-button>&nbsp;&nbsp;\r\n                    <el-button size=\"medium\" type=\"warning\" @click=\"applyEditPermissons\" :disabled=\"!applyPermission\"\r\n                        v-if=\"applyEditPermissonsBt&&rolesno1Bt\">訂正権限を申請</el-button>\r\n                </div>\r\n                <!-- <embed :src=\"bill.imageUrl\" type=\"application/pdf\" width=\"50%\" height=\"70%\"\r\n                    style=\"position: absolute; top: 10%; right: 5%;\"> -->\r\n                    <div v-if=\"bill.imageUrl\">\r\n                        <!-- 这边是查看展示的 -->\r\n                        <!-- 如果是 PDF 文件 --> \r\n                        <div  style=\"max-width: 30vw; height: 60vh;  top: 15%; left: 3vw; border-radius: 5px; display: flex; justify-content: center; align-items: center;\">\r\n                             <embed v-if=\"isPDF(bill.imageUrl)\" :src=\"bill.imageUrl\" type=\"application/pdf\" width=\"40%\" height=\"70%\" style=\"position: absolute; top: 10%; left: 51%;\">\r\n                        </div>\r\n                       \r\n                        <!-- 如果是普通图片 -->\r\n                        <!-- <img  v-else :src=\"bill.imageUrl\" alt=\"上传预览\" style=\"max-width: 40vw; max-height: 70vh; \"> -->\r\n                        <div  style=\"max-width: 30vw; height: 60vh;  top: 15%; left: 3vw; border-radius: 5px; display: flex; justify-content: center; align-items: center;\">\r\n                            <img v-if=\"!isPDF(bill.imageUrl)\"  :src=\"bill.imageUrl\" style=\"max-width: 100%; max-height: 100%;\">\r\n                            <el-image                           \r\n                            :src=\"bill.imageUrl\"\r\n                            :fit=\"contain\"></el-image>\r\n                        </div> \r\n                \r\n                    </div>\r\n                <!-- <el-upload class=\"avatar-uploader\" action=\"http://127.0.0.1:8081\" :show-file-list=\"false\"\r\n                    :on-error=\"handleAvatarSuccess\"> -->\r\n                <!-- <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i> -->\r\n                <!-- </el-upload> -->\r\n            </div>\r\n            <el-table :data=\"Logs\" :border=\"true\" style=\"width: 80%;margin-top: 4%;margin-left: 3%;\">\r\n                <el-table-column prop=\"transactionymd\" label=\"取引年月日\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"transactionAmount\" label=\"取引金額\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"customer\" label=\"取引先\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"billType\" label=\"帳票種類\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"remark\" label=\"訂正備考\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"updateymd\" label=\"登録日時\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"updateUsername\" label=\"登録ユーザー\">\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n          \r\n\r\n        </el-drawer>\r\n        <div class=\"block\">\r\n            <el-pagination @current-change=\"pageCurrentChange\" :current-page.sync=\"currentPage\" :page-size=\"pagesize\"\r\n                :page-sizes=\"[10, 50, 100, 500]\" @size-change=\"handleSizeChange\"\r\n                layout=\"total,sizes, prev, pager, next, jumper\" :total=\"totalBill\">\r\n            </el-pagination>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // Flatpickrを導入する\r\n    import flatpickr from 'flatpickr';\r\n    import 'flatpickr/dist/flatpickr.css';\r\n    import 'flatpickr/dist/l10n/ja';\r\n    export default {\r\n        // 时间格式约束\r\n        filters: {\r\n            formatDate(value) {\r\n                if (!value) return '';\r\n                // 替换 / 为 -\r\n                const date = new Date(value);\r\n                return date.toLocaleDateString().replace(/\\//g, '-');\r\n            },\r\n            formatDateTime(value) {\r\n                if (!value) return '';\r\n                const options = { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit' };\r\n                const formattedDateTime = new Date(value).toLocaleString(undefined, options).replace(/\\//g, '-');\r\n                return formattedDateTime;\r\n            }\r\n            },\r\n        name: 'billView',\r\n        data() {\r\n            return {\r\n                drawerflag: false,\r\n                multipleSelection: [],\r\n\r\n                //ロジック処理\r\n                conditionFlag: false,\r\n                sortFlag: false,\r\n                onSubmitFlag: false,\r\n                getEditWaitBillFlag: false,\r\n                getApplyEditPermissonsFlag: false,\r\n                //ボタンの有効化\r\n                editBt: true,\r\n                agreeBt: true,\r\n                disagreeBt: true,\r\n                reviewBt: false,\r\n                downloadBt: false,\r\n                editPermissonsBt: false,\r\n                applyEditPermissonsBt: false,\r\n                rolesno1Bt: false,\r\n                givePermission: false,\r\n                applyPermission: false,\r\n                getEditWaitBillBt: false,\r\n\r\n\r\n                //順番処理\r\n                sort: false,\r\n                order: '',\r\n\r\n                //ページング部分の機能\r\n                totalBill: 0,\r\n                currentPage: 1,\r\n                pagesize: 10,\r\n\r\n                //条件付き検索部分の機能\r\n                customers: [],\r\n                billTypes: [],\r\n                updateUsers: [],\r\n                timeout: null,\r\n                date: '',\r\n                Logs: [],\r\n                searchManages:[],\r\n\r\n                //帳票詳細\r\n                bill: {\r\n                    billno: '',\r\n                    billType: '',\r\n                    customer: '',\r\n                    remark: '',\r\n                    transactionAmount: '',\r\n                    transactionymd: '',\r\n                    updateUserName: '',\r\n                    updateymd: '',\r\n                    reviewStatus: '',\r\n                    editPermissions: false,\r\n                    imageUrl: '',\r\n                   \r\n                },\r\n\r\n                //帳票一覧\r\n                billTableData: [],\r\n\r\n                //検索条件\r\n                condition: {\r\n                    transactionDateFrom: '',\r\n                    transactionDateTo: '',\r\n                    transactionAmountFrom: '',\r\n                    transactionAmountTo: '',\r\n                    customerno: '',\r\n                    billTypeno: '',\r\n                    updateuserid: '',\r\n                    searchManage: '',\r\n                },\r\n\r\n            }\r\n        },\r\n        computed: {\r\n            exportBt() {\r\n                if (this.multipleSelection.length == 0) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n\r\n        \r\n            //   \r\n            handleSizeChange(size) {\r\n                this.pagesize = size;\r\n                this.getBillsByFlag();\r\n            },\r\n            //順番処理\r\n            sortChange(column) {\r\n                this.sort = column.order;\r\n                this.order = column.prop;\r\n                this.sortFlag = true;\r\n                this.currentPage = 1;\r\n                if (this.conditionFlag == true) {\r\n                    this.$http.post('/bill/conditionSearch', {\r\n                        currentPage: this.currentPage,\r\n                        pagesize: this.pagesize,\r\n                        condition: this.condition,\r\n                        sort: this.sort,\r\n                        order: this.order\r\n                    }).then(res => {\r\n                        if (res.data.code == 200) {\r\n                            this.billTableData = res.data.data;\r\n                            this.totalBill = res.data.data[0].totalBill;\r\n                        }\r\n                    });\r\n                } else if (this.onSubmitFlag == true) {\r\n                    this.$http.post('/bill/getOnSubmit', {\r\n                        currentPage: this.currentPage,\r\n                        pagesize: this.pagesize,\r\n                        sort: this.sort,\r\n                        order: this.order\r\n                    }).then(res => {\r\n                        if (res.data.code == 200) {\r\n                            this.billTableData = res.data.data\r\n                            this.totalBill = res.data.data[0].totalBill;\r\n                        }\r\n                    });\r\n                } else if (this.getEditWaitBillFlag == true){\r\n                    this.$http.post('/bill/getEditWaitBill', {\r\n                        currentPage: this.currentPage,\r\n                        pagesize: this.pagesize,\r\n                        order: this.sort,\r\n                        prop: this.order\r\n                    }).then(res => {\r\n                        if (res.data.code == 200) {\r\n                            this.billTableData = res.data.data\r\n                            this.totalBill = res.data.data[0].totalBill;\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.$http.post('/bill/getBills', {\r\n                        currentPage: this.currentPage,\r\n                        pagesize: this.pagesize,\r\n                        order: this.sort,\r\n                        prop: this.order\r\n                    }).then(res => {\r\n                        if (res.data.code == 200) {\r\n                            this.billTableData = res.data.data;\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n\r\n            //金額のチェック\r\n            checkAmountFrom() {\r\n                if (!/^-?\\d+$/.test(this.condition.transactionAmountFrom) && this.condition.transactionAmountFrom != '') {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        message: '整数のみ入力'\r\n                    });\r\n                    this.condition.transactionAmountFrom = '';\r\n                }\r\n            },\r\n            checkAmountTo() {\r\n                if (!/^-?\\d+$/.test(this.condition.transactionAmountTo) && this.condition.transactionAmountTo != '') {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        message: '整数のみ入力'\r\n                    });\r\n                    this.condition.transactionAmountTo = '';\r\n                }\r\n            },\r\n\r\n            //編集権限を付くボタン\r\n            giveEditPermissons() {\r\n                console.log(\"--------------\")\r\n                this.$http.get('/bill/giveEditPermissons/' + this.bill.billno).then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '編集権限を付く完了'\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n\r\n            //改修権限を申請ボタン\r\n            applyEditPermissons() {\r\n                this.$http.get('/bill/applyEditPermissons/' + this.bill.billno).then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '改修権限を申請しました'\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n\r\n            //編集ボタン\r\n            edit() {\r\n                this.$router.push({ path: '/edit/' + this.bill.billno });\r\n            },\r\n            //承認ボタン\r\n            agree() {\r\n                console.log(\"进入agree\")\r\n                this.$http.get('/bill/agreeBill/'+ this.bill.billno).then(res => {\r\n                    console.log(res)\r\n                    if (res.data.code == 200) {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '承認完了'\r\n                        });\r\n                        this.drawerflag = false;\r\n                    }\r\n                });\r\n            },\r\n            //拒否ボタン\r\n            disagree() {\r\n                this.$http.get('/bill/disagreeBill/'+ this.bill.billno).then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '拒否完了'\r\n                        });\r\n                        this.drawerflag = false;\r\n                    }\r\n                });\r\n            },\r\n\r\n            //ページジャンプ\r\n            pageCurrentChange(val) {\r\n                this.currentPage = val;\r\n                this.getBillsByFlag();\r\n            },\r\n            //条件付き検索・承認待ち・ソート機能を別で帳票データを取得する\r\n            getBillsByFlag() {\r\n                if (this.sortFlag == false) {\r\n                    if (this.conditionFlag == true) {\r\n                        this.$http.post('/bill/conditionSearch', {\r\n                            currentPage: this.currentPage,\r\n                            pagesize: this.pagesize,\r\n                            condition: this.condition\r\n                        }).then(res => {\r\n                            if (res.data.code == 200) {\r\n                                this.billTableData = res.data.data;\r\n                                this.totalBill = res.data.data[0].totalBill;\r\n                                \r\n                            }\r\n                        });\r\n                    } else if (this.onSubmitFlag == true) {\r\n                        this.$http.post('/bill/getOnSubmit', {\r\n                            currentPage: this.currentPage,\r\n                            pagesize: this.pagesize\r\n                        }).then(res => {\r\n                            if (res.data.code == 200) {\r\n                                this.billTableData = res.data.data\r\n                                this.totalBill = res.data.data[0].totalBill;\r\n                            }\r\n                        });\r\n                    } else if (this.getEditWaitBillFlag == true) {\r\n                        this.$http.post('/bill/getEditWaitBill', {\r\n                            currentPage: this.currentPage,\r\n                            pagesize: this.pagesize\r\n                        }).then(res => {\r\n                            if (res.data.code == 200) {\r\n                                this.billTableData = res.data.data\r\n                                this.totalBill = res.data.data[0].totalBill;\r\n                            }\r\n                        });\r\n                    } else {\r\n                        this.getBills();\r\n                    }\r\n                } else {\r\n                    if (this.conditionFlag == true) {\r\n                        this.$http.post('/bill/conditionSearch', {\r\n                            currentPage: this.currentPage,\r\n                            pagesize: this.pagesize,\r\n                            condition: this.condition,\r\n                            sort: this.sort,\r\n                            order: this.order\r\n                        }).then(res => {\r\n                            if (res.data.code == 200) {\r\n                                this.billTableData = res.data.data;\r\n                                this.totalBill = res.data.data[0].totalBill;\r\n                            }\r\n                        });\r\n                    } else if (this.getEditWaitBillFlag == true) {\r\n                        this.$http.post('/bill/getEditWaitBill', {\r\n                            currentPage: this.currentPage,\r\n                            pagesize: this.pagesize,\r\n                            sort: this.sort,\r\n                            order: this.order\r\n                        }).then(res => {\r\n                            if (res.data.code == 200) {\r\n                                this.billTableData = res.data.data\r\n                                this.totalBill = res.data.data[0].totalBill;\r\n                            }\r\n                        });\r\n                    } else {\r\n                        this.$http.post('/bill/getBills', {\r\n                            currentPage: this.currentPage,\r\n                            pagesize: this.pagesize,\r\n                            sort: this.sort,\r\n                            order: this.order\r\n                        }).then(res => {\r\n                            if (res.data.code == 200) {\r\n                                this.billTableData = res.data.data;\r\n                                this.totalBill = res.data.data[0].totalBill;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n\r\n            //帳票詳細をクリアする\r\n            clearBill() {\r\n                this.bill = {\r\n                    billType: '',\r\n                    customer: '',\r\n                    remark: '',\r\n                    transactionAmount: '',\r\n                    transactionymd: '',\r\n                    updateUserName: '',\r\n                    updateymd: '',\r\n                    imageUrl: '',\r\n                    Logs: [],\r\n                };\r\n            },\r\n\r\n            //帳票データを取得する\r\n            getBills() {\r\n                this.$http.post('/bill/getBills', { currentPage: this.currentPage, pagesize: this.pagesize })\r\n                    .then(res => {\r\n                        if (res.data.code == 200) {\r\n                            this.billTableData = res.data.data;\r\n                            this.totalBill = res.data.data[0].totalBill;\r\n                        }\r\n                    });\r\n            },\r\n            //チェックボックスを選択する\r\n            handleSelectionChange(val) {\r\n                this.multipleSelection = [];\r\n                val.forEach(element => {\r\n                    this.multipleSelection.push(element.billno);\r\n                });\r\n            },\r\n            //検索ボタン\r\n            search() {\r\n                \r\n                const dateFrom = new Date(this.condition.transactionDateFrom);\r\n                const dateTo = new Date(this.condition.transactionDateTo);\r\n              if (dateFrom > dateTo) {\r\n                    this.$message({ \r\n                        type: 'error',\r\n                        message: '開始日は終了日より小さい'\r\n                    });\r\n                    return;\r\n                }\r\n                let AmountFrom = Number(this.condition.transactionAmountFrom);\r\n                let AmountTo = Number(this.condition.transactionAmountTo);\r\n                if (this.condition.transactionAmountFrom != '' && this.condition.transactionAmountTo != '') {\r\n                    if (AmountFrom > AmountTo) {\r\n                        this.$message({\r\n                            type: 'error',\r\n                            message: '金額範囲は0より小さい'\r\n                        });\r\n                        return;\r\n                    }\r\n                } \r\n                this.conditionFlag = true;\r\n                this.onSubmitFlag = false;\r\n                this.getApplyEditPermissonsFlag = false;\r\n                this.currentPage = 1;\r\n                this.$http.post('/bill/conditionSearch', {\r\n                    currentPage: this.currentPage,\r\n                    pagesize: this.pagesize,\r\n                    condition: this.condition\r\n                }).then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.billTableData = res.data.data;\r\n                        this.totalBill = res.data.data[0].totalBill;\r\n                    }\r\n                });\r\n            },\r\n            //クリアボタン  \r\n            clear() {\r\n                this.condition.transactionDateFrom = '';\r\n                this.condition.transactionDateTo = '';\r\n                this.condition.transactionAmountFrom = '';\r\n                this.condition.transactionAmountTo = '';\r\n                this.condition.customerno = '';\r\n                // \r\n                this.condition.searchManage = '';\r\n                // \r\n                this.condition.billTypeno = '';\r\n                this.condition.updateuserid = '';\r\n                this.onSubmitFlag = false;\r\n                this.conditionFlag = false;\r\n                this.getEditWaitBillFlag = false;\r\n                this.currentPage = 1;\r\n                this.sortFlag = false;\r\n                this.sort = null;\r\n                this.order = null;\r\n                this.getBills();\r\n            },\r\n            //承認待ちボタン\r\n            onSubmit() {\r\n                this.onSubmitFlag = true;\r\n                this.conditionFlag = false;\r\n                this.getEditWaitBillFlag = false;\r\n                this.currentPage = 1;\r\n                this.$http.post('/bill/getOnSubmit', {\r\n                    currentPage: this.currentPage,\r\n                    pagesize: this.pagesize\r\n                }).then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.billTableData = res.data.data;\r\n                        this.totalBill = res.data.data[0].totalBill;\r\n                    }\r\n                });\r\n            },\r\n\r\n            //改修権限申請待ちボタン\r\n            getEditWaitBill() {\r\n                this.onSubmitFlag = false;\r\n                this.conditionFlag = false;\r\n                this.getEditWaitBillFlag = true;\r\n                this.currentPage = 1;\r\n                this.$http.post('/bill/getEditWaitBill', {\r\n                    currentPage: this.currentPage,\r\n                    pagesize: this.pagesize\r\n                }).then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.billTableData = res.data.data;\r\n                        this.totalBill = res.data.data[0].totalBill;\r\n                    }\r\n                });\r\n            },\r\n\r\n            //ダウンロードボタン\r\n            download() {\r\n                this.$http.post('/bill/downloadBill', this.multipleSelection, { responseType: 'blob' }).then(res => {\r\n                    const blob = new Blob([res.data]);\r\n                    const url = window.URL.createObjectURL(blob);\r\n\r\n                    // 创建一个 <a> 标签用于下载\r\n                    const link = document.createElement('a');\r\n                    link.href = url;\r\n                    link.download = 'downloaded_file.txt'; // 设置下载文件的名称\r\n                    link.click();\r\n\r\n                    // 释放资源\r\n                    window.URL.revokeObjectURL(url);\r\n                });\r\n            },\r\n            //当帳票の詳細を表示する\r\n            handleRowClick(row) {\r\n                \r\n                this.$http.get('/bill/getBillDetails/' + row.billno).then(res => {\r\n                    \r\n                    if (res.data.code == 200) {\r\n                        sessionStorage.setItem('billno', res.data.data[0].billno);\r\n                        console.log(\"取值时候的session： \",sessionStorage.getItem('billno'));\r\n                        // 新建的时候需要clear\r\n                        this.Logs=[]\r\n                        for (let i = 0; i < res.data.data.length; i++) {\r\n                            if (i == 0) {\r\n                                this.bill = res.data.data[i];\r\n                                console.log(\"i=\",i ,\":\",this.bill)\r\n                            } else {\r\n                                this.Logs.push(res.data.data[i]);\r\n                            }\r\n                        }\r\n                    }\r\n                    console.log(\"/////\")\r\n                console.log(\"this.bill: \",this.bill)\r\n                \r\n                //編集権限を判断する\r\n                // agree的条件可能要改\r\n                // 置之死地而后生\r\n                if (sessionStorage.getItem(\"rolesno\") == 3) {\r\n                    if (this.bill.reviewStatus == 1 || this.bill.reviewStatus == 2 ) {\r\n                    // console.log(this.agreeBt)\r\n                    this.agreeBt = true;\r\n                    this.disagreeBt = true;\r\n                    }else{\r\n                    this.agreeBt = false;\r\n                    this.disagreeBt = false;\r\n                 }\r\n                    \r\n                }else{\r\n                    this.agreeBt = false;\r\n                    this.disagreeBt = false;\r\n                }\r\n               \r\n            \r\n                if (this.bill.reviewStatus == 6 && this.bill.editPermissions && sessionStorage.getItem(\"rolesno\") == 1) {\r\n                    console.log(\"if-true\")\r\n                    this.editBt = true;\r\n                    \r\n                } else {\r\n                    console.log(\"if-else\")\r\n                    this.editBt = false;\r\n                }\r\n\r\n\r\n                if (sessionStorage.getItem(\"rolesno\") == 3 && this.bill.reviewStatus == 5) {\r\n                    this.givePermission = true;\r\n\r\n                } else {\r\n                    this.givePermission = false;\r\n                }\r\n\r\n                if ( this.bill.reviewStatus == 3) {\r\n                    this.applyPermission = true;\r\n\r\n                } else {\r\n                    this.applyPermission = false;\r\n                }\r\n\r\n                this.drawerflag = true;\r\n                });\r\n\r\n                \r\n               \r\n            },\r\n            //アップロードしたファイルを表示する\r\n            handleAvatarSuccess(response) {\r\n                this.bill.imageUrl = response;\r\n            },\r\n            //サーバーからデータを取得する\r\n            loadCustomers() {\r\n                this.$http.get('/category/getCustomers').then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.customers = res.data.data;\r\n                    }\r\n                });\r\n            },\r\n            // 下拉菜单读取 searchManage\r\n            loadsearchManage() {\r\n                this.$http.get('/bill/getSearchmanage/'+sessionStorage.getItem('userid')).then(res => {\r\n                    console.log(sessionStorage.getItem('userid'))\r\n                    if (res.data.code == 200) {\r\n                        this.searchManages = res.data.data;\r\n                    }\r\n                });\r\n            },\r\n            // \r\n            loadBillTypes() {\r\n                this.$http.get('/category/getBillTypes').then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.billTypes = res.data.data;\r\n                    }\r\n                });\r\n            },\r\n            loadUpdateUsers() {\r\n                this.$http.get('/bill/getUpdateUserids').then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.updateUsers = res.data.data;\r\n                    }\r\n                });\r\n            },\r\n            isPDF(url) {\r\n                return url.toLowerCase().endsWith('.pdf');\r\n            },\r\n        },\r\n        //画面がロードされたら、取引先などのデータを取得する\r\n        mounted() {\r\n            this.loadCustomers();\r\n            this.loadBillTypes();\r\n            this.loadUpdateUsers();\r\n            this.loadsearchManage();\r\n            this.getBills();\r\n            var rolesno = sessionStorage.getItem(\"rolesno\");\r\n            switch (rolesno) {\r\n                case '1':\r\n                    this.reviewBt = false;\r\n                    this.downloadBt = false;\r\n                    this.editBt = true;\r\n                    this.getEditWaitBillBt = true;\r\n                    this.applyEditPermissonsBt = true;\r\n                    this.rolesno1Bt = true;\r\n                    break;\r\n                case '2':\r\n                    this.reviewBt = false;\r\n                    this.downloadBt = true;\r\n                    this.getApplyEditPermissonsBt = false;\r\n                    break;\r\n                case '3':\r\n                    this.reviewBt = true;\r\n                    this.downloadBt = true;\r\n                    this.agreeBt = false;\r\n                    this.disagreeBt = false;\r\n                    this.editPermissonsBt = true,\r\n                    this.getEditWaitBillBt = true;\r\n                    this.applyEditPermissonsBt = false;\r\n                    \r\n                    break;\r\n                case \"4\":\r\n                    this.editFlag = true;\r\n                    this.reviewBt = true;\r\n                    this.downloadBt = true;\r\n                    this.editBt = true;\r\n                    this.agreeBt = false;\r\n                    this.disagreeBt = false;\r\n                    this.editPermissonsBt = true;\r\n                    this.getEditWaitBillBt = true;\r\n                    this.applyEditPermissonsBt = true;\r\n                    break;\r\n            }\r\n\r\n            //日付の設定\r\n            flatpickr(this.$refs.datepickerInput1, {\r\n                dateFormat: 'Y/m/d',\r\n                locale: 'ja',\r\n                firstDayOfWeek: '0',\r\n                allowInput: 'true',\r\n                minDate: \"1990/01/01\",\r\n                maxDate: \"today\",\r\n\r\n            });\r\n            flatpickr(this.$refs.datepickerInput2, {\r\n                dateFormat: 'Y/m/d',\r\n                locale: 'ja',\r\n                firstDayOfWeek: '0',\r\n                allowInput: 'true',\r\n                minDate: \"1990/01/01\",\r\n                maxDate: \"today\",\r\n            });\r\n            \r\n\r\n\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .el-table :deep() .cell {\r\n        /* overflow: hidden; */\r\n        /* text-overflow: ellipsis; */\r\n        white-space: nowrap;\r\n\r\n    }\r\n\r\n    .block {\r\n        position: absolute;\r\n        bottom: 40px;\r\n        text-align: center;\r\n        width: 88%;\r\n    }\r\n\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 178px;\r\n        height: 178px;\r\n        line-height: 178px;\r\n        text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n        width: 178px;\r\n        height: 178px;\r\n        display: block;\r\n    }\r\n\r\n    .el-button {\r\n        margin: 5px;\r\n    }\r\n</style>"],"mappings":";;;;AAoMA;AACA,OAAAA,SAAA;AACA;AACA;AACA;EACA;EACAC,OAAA;IACAC,WAAAC,KAAA;MACA,KAAAA,KAAA;MACA;MACA,MAAAC,IAAA,OAAAC,IAAA,CAAAF,KAAA;MACA,OAAAC,IAAA,CAAAE,kBAAA,GAAAC,OAAA;IACA;IACAC,eAAAL,KAAA;MACA,KAAAA,KAAA;MACA,MAAAM,OAAA;QAAAC,IAAA;QAAAC,KAAA;QAAAC,GAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,MAAA;MAAA;MACA,MAAAC,iBAAA,OAAAX,IAAA,CAAAF,KAAA,EAAAc,cAAA,CAAAC,SAAA,EAAAT,OAAA,EAAAF,OAAA;MACA,OAAAS,iBAAA;IACA;EACA;EACAG,IAAA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,iBAAA;MAEA;MACAC,aAAA;MACAC,QAAA;MACAC,YAAA;MACAC,mBAAA;MACAC,0BAAA;MACA;MACAC,MAAA;MACAC,OAAA;MACAC,UAAA;MACAC,QAAA;MACAC,UAAA;MACAC,gBAAA;MACAC,qBAAA;MACAC,UAAA;MACAC,cAAA;MACAC,eAAA;MACAC,iBAAA;MAGA;MACAC,IAAA;MACAC,KAAA;MAEA;MACAC,SAAA;MACAC,WAAA;MACAC,QAAA;MAEA;MACAC,SAAA;MACAC,SAAA;MACAC,WAAA;MACAC,OAAA;MACA3C,IAAA;MACA4C,IAAA;MACAC,aAAA;MAEA;MACAC,IAAA;QACAC,MAAA;QACAC,QAAA;QACAC,QAAA;QACAC,MAAA;QACAC,iBAAA;QACAC,cAAA;QACAC,cAAA;QACAC,SAAA;QACAC,YAAA;QACAC,eAAA;QACAC,QAAA;MAEA;MAEA;MACAC,aAAA;MAEA;MACAC,SAAA;QACAC,mBAAA;QACAC,iBAAA;QACAC,qBAAA;QACAC,mBAAA;QACAC,UAAA;QACAC,UAAA;QACAC,YAAA;QACAC,YAAA;MACA;IAEA;EACA;EACAC,QAAA;IACAC,SAAA;MACA,SAAAnD,iBAAA,CAAAoD,MAAA;QACA;MACA;QACA;MACA;IACA;EACA;EAEAC,OAAA;IAGA;IACAC,iBAAAC,IAAA;MACA,KAAAlC,QAAA,GAAAkC,IAAA;MACA,KAAAC,cAAA;IACA;IACA;IACAC,WAAAC,MAAA;MACA,KAAAzC,IAAA,GAAAyC,MAAA,CAAAxC,KAAA;MACA,KAAAA,KAAA,GAAAwC,MAAA,CAAAC,IAAA;MACA,KAAAzD,QAAA;MACA,KAAAkB,WAAA;MACA,SAAAnB,aAAA;QACA,KAAA2D,KAAA,CAAAC,IAAA;UACAzC,WAAA,OAAAA,WAAA;UACAC,QAAA,OAAAA,QAAA;UACAoB,SAAA,OAAAA,SAAA;UACAxB,IAAA,OAAAA,IAAA;UACAC,KAAA,OAAAA;QACA,GAAA4C,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;YACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;YACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;UACA;QACA;MACA,gBAAAhB,YAAA;QACA,KAAAyD,KAAA,CAAAC,IAAA;UACAzC,WAAA,OAAAA,WAAA;UACAC,QAAA,OAAAA,QAAA;UACAJ,IAAA,OAAAA,IAAA;UACAC,KAAA,OAAAA;QACA,GAAA4C,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;YACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;YACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;UACA;QACA;MACA,gBAAAf,mBAAA;QACA,KAAAwD,KAAA,CAAAC,IAAA;UACAzC,WAAA,OAAAA,WAAA;UACAC,QAAA,OAAAA,QAAA;UACAH,KAAA,OAAAD,IAAA;UACA0C,IAAA,OAAAzC;QACA,GAAA4C,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;YACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;YACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;UACA;QACA;MACA;QACA,KAAAyC,KAAA,CAAAC,IAAA;UACAzC,WAAA,OAAAA,WAAA;UACAC,QAAA,OAAAA,QAAA;UACAH,KAAA,OAAAD,IAAA;UACA0C,IAAA,OAAAzC;QACA,GAAA4C,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;YACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;UACA;QACA;MACA;IACA;IAEA;IACAmE,gBAAA;MACA,eAAAC,IAAA,MAAAzB,SAAA,CAAAG,qBAAA,UAAAH,SAAA,CAAAG,qBAAA;QACA,KAAAuB,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACA,KAAA5B,SAAA,CAAAG,qBAAA;MACA;IACA;IACA0B,cAAA;MACA,eAAAJ,IAAA,MAAAzB,SAAA,CAAAI,mBAAA,UAAAJ,SAAA,CAAAI,mBAAA;QACA,KAAAsB,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACA,KAAA5B,SAAA,CAAAI,mBAAA;MACA;IACA;IAEA;IACA0B,mBAAA;MACAC,OAAA,CAAAC,GAAA;MACA,KAAAb,KAAA,CAAAc,GAAA,oCAAA9C,IAAA,CAAAC,MAAA,EAAAiC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAG,QAAA;YACAC,IAAA;YACAC,OAAA;UACA;QACA;MACA;IACA;IAEA;IACAM,oBAAA;MACA,KAAAf,KAAA,CAAAc,GAAA,qCAAA9C,IAAA,CAAAC,MAAA,EAAAiC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAG,QAAA;YACAC,IAAA;YACAC,OAAA;UACA;QACA;MACA;IACA;IAEA;IACAO,KAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA,kBAAAnD,IAAA,CAAAC;MAAA;IACA;IACA;IACAmD,MAAA;MACAR,OAAA,CAAAC,GAAA;MACA,KAAAb,KAAA,CAAAc,GAAA,2BAAA9C,IAAA,CAAAC,MAAA,EAAAiC,IAAA,CAAAC,GAAA;QACAS,OAAA,CAAAC,GAAA,CAAAV,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAG,QAAA;YACAC,IAAA;YACAC,OAAA;UACA;UACA,KAAAtE,UAAA;QACA;MACA;IACA;IACA;IACAkF,SAAA;MACA,KAAArB,KAAA,CAAAc,GAAA,8BAAA9C,IAAA,CAAAC,MAAA,EAAAiC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAG,QAAA;YACAC,IAAA;YACAC,OAAA;UACA;UACA,KAAAtE,UAAA;QACA;MACA;IACA;IAEA;IACAmF,kBAAAC,GAAA;MACA,KAAA/D,WAAA,GAAA+D,GAAA;MACA,KAAA3B,cAAA;IACA;IACA;IACAA,eAAA;MACA,SAAAtD,QAAA;QACA,SAAAD,aAAA;UACA,KAAA2D,KAAA,CAAAC,IAAA;YACAzC,WAAA,OAAAA,WAAA;YACAC,QAAA,OAAAA,QAAA;YACAoB,SAAA,OAAAA;UACA,GAAAqB,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;cACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;cACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;YAEA;UACA;QACA,gBAAAhB,YAAA;UACA,KAAAyD,KAAA,CAAAC,IAAA;YACAzC,WAAA,OAAAA,WAAA;YACAC,QAAA,OAAAA;UACA,GAAAyC,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;cACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;cACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;YACA;UACA;QACA,gBAAAf,mBAAA;UACA,KAAAwD,KAAA,CAAAC,IAAA;YACAzC,WAAA,OAAAA,WAAA;YACAC,QAAA,OAAAA;UACA,GAAAyC,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;cACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;cACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;YACA;UACA;QACA;UACA,KAAAiE,QAAA;QACA;MACA;QACA,SAAAnF,aAAA;UACA,KAAA2D,KAAA,CAAAC,IAAA;YACAzC,WAAA,OAAAA,WAAA;YACAC,QAAA,OAAAA,QAAA;YACAoB,SAAA,OAAAA,SAAA;YACAxB,IAAA,OAAAA,IAAA;YACAC,KAAA,OAAAA;UACA,GAAA4C,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;cACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;cACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;YACA;UACA;QACA,gBAAAf,mBAAA;UACA,KAAAwD,KAAA,CAAAC,IAAA;YACAzC,WAAA,OAAAA,WAAA;YACAC,QAAA,OAAAA,QAAA;YACAJ,IAAA,OAAAA,IAAA;YACAC,KAAA,OAAAA;UACA,GAAA4C,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;cACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;cACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;YACA;UACA;QACA;UACA,KAAAyC,KAAA,CAAAC,IAAA;YACAzC,WAAA,OAAAA,WAAA;YACAC,QAAA,OAAAA,QAAA;YACAJ,IAAA,OAAAA,IAAA;YACAC,KAAA,OAAAA;UACA,GAAA4C,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;cACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;cACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAkE,UAAA;MACA,KAAAzD,IAAA;QACAE,QAAA;QACAC,QAAA;QACAC,MAAA;QACAC,iBAAA;QACAC,cAAA;QACAC,cAAA;QACAC,SAAA;QACAG,QAAA;QACAb,IAAA;MACA;IACA;IAEA;IACA0D,SAAA;MACA,KAAAxB,KAAA,CAAAC,IAAA;QAAAzC,WAAA,OAAAA,WAAA;QAAAC,QAAA,OAAAA;MAAA,GACAyC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;UACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;QACA;MACA;IACA;IACA;IACAmE,sBAAAH,GAAA;MACA,KAAAnF,iBAAA;MACAmF,GAAA,CAAAI,OAAA,CAAAC,OAAA;QACA,KAAAxF,iBAAA,CAAA8E,IAAA,CAAAU,OAAA,CAAA3D,MAAA;MACA;IACA;IACA;IACA4D,OAAA;MAEA,MAAAC,QAAA,OAAA3G,IAAA,MAAA0D,SAAA,CAAAC,mBAAA;MACA,MAAAiD,MAAA,OAAA5G,IAAA,MAAA0D,SAAA,CAAAE,iBAAA;MACA,IAAA+C,QAAA,GAAAC,MAAA;QACA,KAAAxB,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACA;MACA;MACA,IAAAuB,UAAA,GAAAC,MAAA,MAAApD,SAAA,CAAAG,qBAAA;MACA,IAAAkD,QAAA,GAAAD,MAAA,MAAApD,SAAA,CAAAI,mBAAA;MACA,SAAAJ,SAAA,CAAAG,qBAAA,eAAAH,SAAA,CAAAI,mBAAA;QACA,IAAA+C,UAAA,GAAAE,QAAA;UACA,KAAA3B,QAAA;YACAC,IAAA;YACAC,OAAA;UACA;UACA;QACA;MACA;MACA,KAAApE,aAAA;MACA,KAAAE,YAAA;MACA,KAAAE,0BAAA;MACA,KAAAe,WAAA;MACA,KAAAwC,KAAA,CAAAC,IAAA;QACAzC,WAAA,OAAAA,WAAA;QACAC,QAAA,OAAAA,QAAA;QACAoB,SAAA,OAAAA;MACA,GAAAqB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;UACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;QACA;MACA;IACA;IACA;IACA4E,MAAA;MACA,KAAAtD,SAAA,CAAAC,mBAAA;MACA,KAAAD,SAAA,CAAAE,iBAAA;MACA,KAAAF,SAAA,CAAAG,qBAAA;MACA,KAAAH,SAAA,CAAAI,mBAAA;MACA,KAAAJ,SAAA,CAAAK,UAAA;MACA;MACA,KAAAL,SAAA,CAAAQ,YAAA;MACA;MACA,KAAAR,SAAA,CAAAM,UAAA;MACA,KAAAN,SAAA,CAAAO,YAAA;MACA,KAAA7C,YAAA;MACA,KAAAF,aAAA;MACA,KAAAG,mBAAA;MACA,KAAAgB,WAAA;MACA,KAAAlB,QAAA;MACA,KAAAe,IAAA;MACA,KAAAC,KAAA;MACA,KAAAkE,QAAA;IACA;IACA;IACAY,SAAA;MACA,KAAA7F,YAAA;MACA,KAAAF,aAAA;MACA,KAAAG,mBAAA;MACA,KAAAgB,WAAA;MACA,KAAAwC,KAAA,CAAAC,IAAA;QACAzC,WAAA,OAAAA,WAAA;QACAC,QAAA,OAAAA;MACA,GAAAyC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;UACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;QACA;MACA;IACA;IAEA;IACA8E,gBAAA;MACA,KAAA9F,YAAA;MACA,KAAAF,aAAA;MACA,KAAAG,mBAAA;MACA,KAAAgB,WAAA;MACA,KAAAwC,KAAA,CAAAC,IAAA;QACAzC,WAAA,OAAAA,WAAA;QACAC,QAAA,OAAAA;MACA,GAAAyC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAxB,aAAA,GAAAuB,GAAA,CAAAjE,IAAA,CAAAA,IAAA;UACA,KAAAqB,SAAA,GAAA4C,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAAqB,SAAA;QACA;MACA;IACA;IAEA;IACA+E,SAAA;MACA,KAAAtC,KAAA,CAAAC,IAAA,4BAAA7D,iBAAA;QAAAmG,YAAA;MAAA,GAAArC,IAAA,CAAAC,GAAA;QACA,MAAAqC,IAAA,OAAAC,IAAA,EAAAtC,GAAA,CAAAjE,IAAA;QACA,MAAAwG,GAAA,GAAAC,MAAA,CAAAC,GAAA,CAAAC,eAAA,CAAAL,IAAA;;QAEA;QACA,MAAAM,IAAA,GAAAC,QAAA,CAAAC,aAAA;QACAF,IAAA,CAAAG,IAAA,GAAAP,GAAA;QACAI,IAAA,CAAAR,QAAA;QACAQ,IAAA,CAAAI,KAAA;;QAEA;QACAP,MAAA,CAAAC,GAAA,CAAAO,eAAA,CAAAT,GAAA;MACA;IACA;IACA;IACAU,eAAAC,GAAA;MAEA,KAAArD,KAAA,CAAAc,GAAA,2BAAAuC,GAAA,CAAApF,MAAA,EAAAiC,IAAA,CAAAC,GAAA;QAEA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACAkD,cAAA,CAAAC,OAAA,WAAApD,GAAA,CAAAjE,IAAA,CAAAA,IAAA,IAAA+B,MAAA;UACA2C,OAAA,CAAAC,GAAA,mBAAAyC,cAAA,CAAAE,OAAA;UACA;UACA,KAAA1F,IAAA;UACA,SAAA2F,CAAA,MAAAA,CAAA,GAAAtD,GAAA,CAAAjE,IAAA,CAAAA,IAAA,CAAAsD,MAAA,EAAAiE,CAAA;YACA,IAAAA,CAAA;cACA,KAAAzF,IAAA,GAAAmC,GAAA,CAAAjE,IAAA,CAAAA,IAAA,CAAAuH,CAAA;cACA7C,OAAA,CAAAC,GAAA,OAAA4C,CAAA,YAAAzF,IAAA;YACA;cACA,KAAAF,IAAA,CAAAoD,IAAA,CAAAf,GAAA,CAAAjE,IAAA,CAAAA,IAAA,CAAAuH,CAAA;YACA;UACA;QACA;QACA7C,OAAA,CAAAC,GAAA;QACAD,OAAA,CAAAC,GAAA,qBAAA7C,IAAA;;QAEA;QACA;QACA;QACA,IAAAsF,cAAA,CAAAE,OAAA;UACA,SAAAxF,IAAA,CAAAS,YAAA,cAAAT,IAAA,CAAAS,YAAA;YACA;YACA,KAAA9B,OAAA;YACA,KAAAC,UAAA;UACA;YACA,KAAAD,OAAA;YACA,KAAAC,UAAA;UACA;QAEA;UACA,KAAAD,OAAA;UACA,KAAAC,UAAA;QACA;QAGA,SAAAoB,IAAA,CAAAS,YAAA,cAAAT,IAAA,CAAAU,eAAA,IAAA4E,cAAA,CAAAE,OAAA;UACA5C,OAAA,CAAAC,GAAA;UACA,KAAAnE,MAAA;QAEA;UACAkE,OAAA,CAAAC,GAAA;UACA,KAAAnE,MAAA;QACA;QAGA,IAAA4G,cAAA,CAAAE,OAAA,yBAAAxF,IAAA,CAAAS,YAAA;UACA,KAAAvB,cAAA;QAEA;UACA,KAAAA,cAAA;QACA;QAEA,SAAAc,IAAA,CAAAS,YAAA;UACA,KAAAtB,eAAA;QAEA;UACA,KAAAA,eAAA;QACA;QAEA,KAAAhB,UAAA;MACA;IAIA;IACA;IACAuH,oBAAAC,QAAA;MACA,KAAA3F,IAAA,CAAAW,QAAA,GAAAgF,QAAA;IACA;IACA;IACAC,cAAA;MACA,KAAA5D,KAAA,CAAAc,GAAA,2BAAAZ,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAA1C,SAAA,GAAAyC,GAAA,CAAAjE,IAAA,CAAAA,IAAA;QACA;MACA;IACA;IACA;IACA2H,iBAAA;MACA,KAAA7D,KAAA,CAAAc,GAAA,4BAAAwC,cAAA,CAAAE,OAAA,YAAAtD,IAAA,CAAAC,GAAA;QACAS,OAAA,CAAAC,GAAA,CAAAyC,cAAA,CAAAE,OAAA;QACA,IAAArD,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAArC,aAAA,GAAAoC,GAAA,CAAAjE,IAAA,CAAAA,IAAA;QACA;MACA;IACA;IACA;IACA4H,cAAA;MACA,KAAA9D,KAAA,CAAAc,GAAA,2BAAAZ,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAzC,SAAA,GAAAwC,GAAA,CAAAjE,IAAA,CAAAA,IAAA;QACA;MACA;IACA;IACA6H,gBAAA;MACA,KAAA/D,KAAA,CAAAc,GAAA,2BAAAZ,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjE,IAAA,CAAAkE,IAAA;UACA,KAAAxC,WAAA,GAAAuC,GAAA,CAAAjE,IAAA,CAAAA,IAAA;QACA;MACA;IACA;IACA8H,MAAAtB,GAAA;MACA,OAAAA,GAAA,CAAAuB,WAAA,GAAAC,QAAA;IACA;EACA;EACA;EACAC,QAAA;IACA,KAAAP,aAAA;IACA,KAAAE,aAAA;IACA,KAAAC,eAAA;IACA,KAAAF,gBAAA;IACA,KAAArC,QAAA;IACA,IAAA4C,OAAA,GAAAd,cAAA,CAAAE,OAAA;IACA,QAAAY,OAAA;MACA;QACA,KAAAvH,QAAA;QACA,KAAAC,UAAA;QACA,KAAAJ,MAAA;QACA,KAAAU,iBAAA;QACA,KAAAJ,qBAAA;QACA,KAAAC,UAAA;QACA;MACA;QACA,KAAAJ,QAAA;QACA,KAAAC,UAAA;QACA,KAAAuH,wBAAA;QACA;MACA;QACA,KAAAxH,QAAA;QACA,KAAAC,UAAA;QACA,KAAAH,OAAA;QACA,KAAAC,UAAA;QACA,KAAAG,gBAAA,SACA,KAAAK,iBAAA;QACA,KAAAJ,qBAAA;QAEA;MACA;QACA,KAAAsH,QAAA;QACA,KAAAzH,QAAA;QACA,KAAAC,UAAA;QACA,KAAAJ,MAAA;QACA,KAAAC,OAAA;QACA,KAAAC,UAAA;QACA,KAAAG,gBAAA;QACA,KAAAK,iBAAA;QACA,KAAAJ,qBAAA;QACA;IACA;;IAEA;IACAlC,SAAA,MAAAyJ,KAAA,CAAAC,gBAAA;MACAC,UAAA;MACAC,MAAA;MACAC,cAAA;MACAC,UAAA;MACAC,OAAA;MACAC,OAAA;IAEA;IACAhK,SAAA,MAAAyJ,KAAA,CAAAQ,gBAAA;MACAN,UAAA;MACAC,MAAA;MACAC,cAAA;MACAC,UAAA;MACAC,OAAA;MACAC,OAAA;IACA;EAIA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}