{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n//  上面这个注释是用来停报未使用函数错误的，优化的时候再删掉\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.css';\nimport 'flatpickr/dist/l10n/ja';\nexport default {\n  name: \"editView\",\n  data() {\n    return {\n      createBtText: '作 成',\n      rewriteFlag: false,\n      remarkFlag: true,\n      createBt: true,\n      billTypes: [],\n      customers: [],\n      //帳票詳細\n      transactionymdStr: '',\n      bill: {\n        billno: '',\n        updateuserid: '',\n        billTypeno: '',\n        customerno: '',\n        // billType: '',\n        // customer: '',\n\n        remark: '',\n        transactionAmount: '',\n        // transactionymdStr: '',\n        transactionymd: null,\n        imageUrl: ''\n      },\n      fileList: [],\n      // updateuserid:'',暂时没用\n      deletingFile: null\n    };\n  },\n  computed: {\n    //作成button启用判断\n    setCreateBt() {\n      if (this.bill.billno != null) {\n        console.log(\"this.bill.billno != null\");\n        // 编辑\n        return this.bill.billTypeno == '' || this.bill.customerno == '' || this.bill.transactionAmount == '' || this.transactionymdStr == '' || this.bill.imageUrl == '' || this.bill.remark == '';\n      } else {\n        // 新建\n\n        console.log(this.bill.billTypeno, \"  ,\", this.bill.customerno, \"  ,\", this.bill.transactionAmount, \"  ,\", this.transactionymdStr, \"  ,\", this.bill.imageUrl, \"  ,\"\n        // 滚动条的默认值非空\n        );\n\n        return this.bill.billTypeno == '' || this.bill.customerno == '' || this.bill.transactionAmount == '' || this.transactionymdStr == '' || this.bill.imageUrl == '';\n      }\n    }\n  },\n  methods: {\n    create() {\n      this.bill.updateuserid = sessionStorage.getItem('userid');\n      // this.bill.billno = sessionStorage.getItem(\"billno\");\n      this.bill.transactionymd = new Date(this.transactionymdStr);\n      if (this.bill.billno != null) {\n        this.$http.post('/bill/editBill', this.bill).then(res => {\n          if (res.data.code == 200) {\n            this.$message({\n              type: 'success',\n              message: '訂正成功'\n            });\n            this.$router.push('/search');\n          }\n        });\n      } else {\n        console.log(\"this.bill[0]\", this.bill);\n        this.$http.post('/bill/createBill', this.bill).then(res => {\n          if (res.data.code == 200) {\n            this.$message({\n              type: 'success',\n              message: '作成成功'\n            });\n            this.$router.push('/search');\n          }\n        });\n      }\n    },\n    cancel() {\n      this.$router.push('/search');\n    },\n    // handleAvatarSuccess(response) {\n    //     console.log('handleAvatarSuccess', response);\n\n    //     // 从 response 中获取响应数据\n    //     const responseData = response.data;\n    //     console.log('responseData: ',responseData)\n    //     // 使用 responseData 中的数据来查找匹配的文件\n\n    //     this.bill.imageUrl = responseData.imageUrl;\n    //     console.log('this.bill.imageUrl: ',this.bill.imageUrl)\n    // },\n    handleAvatarSuccess(response) {\n      console.log('handleAvatarSuccess', response);\n      console.log('fileList:', this.fileList);\n\n      // 从 response 中获取响应数据\n      const responseData = response.data;\n\n      // 使用 responseData 中的数据来查找匹配的文件\n      const file = this.fileList.find(f => f.raw === responseData.file);\n      console.log('file:', file);\n      if (file) {\n        file.imageUrl = responseData.imageUrl;\n        console.log(file.imageUrl);\n      }\n      this.bill.imageUrl = responseData.imageUrl;\n    },\n    //金額のチェック\n    checkAmountFrom() {\n      if (!/^-?\\d+$/.test(this.bill.transactionAmount) && this.bill.transactionAmount != '') {\n        this.$message({\n          type: 'error',\n          message: '整数のみ入力'\n        });\n        this.bill.transactionAmount = '';\n      }\n    },\n    //サーバーからデータを取得する\n    loadCustomers() {\n      this.$http.get('/category/getCustomers').then(res => {\n        if (res.data.code == 200) {\n          this.customers = res.data.data;\n        }\n      });\n    },\n    loadBillTypes() {\n      this.$http.get('/category/getBillTypes').then(res => {\n        if (res.data.code == 200) {\n          this.billTypes = res.data.data;\n        }\n      });\n    },\n    init() {\n      this.bill.billno = this.$route.params.billno;\n      if (this.bill.billno != undefined) {\n        this.$http.get('/bill/getBillDetails/' + this.bill.billno).then(res => {\n          this.bill = res.data.data[0];\n          console.log(this.bill);\n          this.bill.customer = res.data.data[0].customer;\n          this.bill.billType = res.data.data[0].billType;\n          this.transactionymdStr = res.data.data[0].transactionymd;\n        });\n      } else {\n        this.bill.billTypeno = '';\n        this.bill.customerno = '';\n        this.bill.remark = '';\n        this.bill.transactionAmount = '';\n        this.transactionymdStr = '';\n        this.bill.transactionymd = new Date(this.transactionymdStr);\n        this.bill.updateuserid = '';\n        this.bill.updateymd = '';\n        this.bill.imageUrl = '';\n        this.rewriteFlag = false;\n        this.remarkFlag = true;\n        this.createBtText = '作 成';\n      }\n    },\n    isPDF(url) {\n      return url.toLowerCase().endsWith('.pdf');\n    },\n    beforeUpload(file) {\n      const maxFileSize = 12; // 最大文件大小（MB）\n      const allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];\n      const isAllowedType = allowedTypes.includes(file.type);\n      const isLtMaxFileSize = file.size / 1024 / 1024 <= maxFileSize;\n      if (!isAllowedType) {\n        this.$message.error('上传文件格式仅支持 JPG、PNG 和 PDF 格式！');\n        return false;\n      }\n      if (!isLtMaxFileSize) {\n        this.$message.error(`上传文件大小不能超过 ${maxFileSize}MB!`);\n        return false;\n      }\n\n      // 设置默认的 imageUrl\n      file.imageUrl = '';\n\n      // 允许上传，并将文件添加到 fileList\n      this.fileList.push(file);\n      return true;\n    },\n    // handleRemove(file, fileList) {\n    //     console.log('delete里的： ',this.bill.imageUrl);\n\n    //     // 向后端发送 POST 请求，删除文件\n    //     this.$http.post('/bill/deleteTempFile', { imageUrl: this.bill.imageUrl })\n    //     .then(response => {\n    //         // 请求成功后，继续执行默认的移除操作\n    //         const index = fileList.indexOf(file);\n    //         if (index !== -1) {\n    //         fileList.splice(index, 1);\n    //         }\n\n    //         // 请求成功后清空 deletingFile\n    //         this.deletingFile = null;\n    //     })\n    //     .catch(error => {\n    //         // 处理请求失败的情况\n    //         console.error('Error removing file:', error);\n\n    //         // 请求失败时清空 deletingFile\n    //         this.deletingFile = null;\n    //     });\n    // },\n    handleRemove(file, fileList) {\n      console.log('handleRemovefile.imageUrl: ', this.fileList.imageUrl);\n      // 向后端发送 POST 请求，删除文件\n      this.$http.post('/bill/deleteTempFile', {\n        imageUrl: file.imageUrl\n      }).then(response => {\n        // 请求成功后，继续执行默认的移除操作\n        const index = fileList.indexOf(file);\n        if (index !== -1) {\n          fileList.splice(index, 1);\n        }\n\n        // 请求成功后清空 deletingFile\n        this.deletingFile = null;\n      }).catch(error => {\n        // 处理请求失败的情况\n        console.error('Error removing file:', error);\n\n        // 请求失败时清空 deletingFile\n        this.deletingFile = null;\n      });\n    },\n    handlePreview(file) {\n      console.log(file);\n    },\n    handleExceed(files, fileList) {\n      this.$message.warning(`当前限制选择 5 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n    },\n    beforeRemove(file, fileList) {\n      return this.$confirm(`确定移除 ${file.name}？`);\n    },\n    getUploadUrl() {\n      return `http://192.168.11.9:8082/bill/updateFile?userid=${sessionStorage.getItem('userid')}`;\n    }\n  },\n  watch: {\n    $route() {\n      this.init();\n    }\n  },\n  mounted() {\n    flatpickr(this.$refs.datepickerInput, {\n      dateFormat: 'Y/m/d',\n      locale: 'ja',\n      firstDayOfWeek: '0',\n      allowInput: 'true',\n      minDate: \"1990/01/01\",\n      maxDate: \"today\"\n    });\n    this.loadCustomers();\n    this.loadBillTypes();\n  },\n  created() {\n    this.init();\n  }\n};","map":{"version":3,"names":["flatpickr","name","data","createBtText","rewriteFlag","remarkFlag","createBt","billTypes","customers","transactionymdStr","bill","billno","updateuserid","billTypeno","customerno","remark","transactionAmount","transactionymd","imageUrl","fileList","deletingFile","computed","setCreateBt","console","log","methods","create","sessionStorage","getItem","Date","$http","post","then","res","code","$message","type","message","$router","push","cancel","handleAvatarSuccess","response","responseData","file","find","f","raw","checkAmountFrom","test","loadCustomers","get","loadBillTypes","init","$route","params","undefined","customer","billType","updateymd","isPDF","url","toLowerCase","endsWith","beforeUpload","maxFileSize","allowedTypes","isAllowedType","includes","isLtMaxFileSize","size","error","handleRemove","index","indexOf","splice","catch","handlePreview","handleExceed","files","warning","length","beforeRemove","$confirm","getUploadUrl","watch","mounted","$refs","datepickerInput","dateFormat","locale","firstDayOfWeek","allowInput","minDate","maxDate","created"],"sources":["src/views/edit.vue"],"sourcesContent":["<template lang=\"\">\r\n    <div>\r\n        <div style=\"flex-direction: row; height: 80vh; display: flex;\">\r\n            <el-upload\r\n                style=\"margin-bottom:20px\"\r\n                class=\"avatar-uploader\"\r\n                :action=\"getUploadUrl()\"\r\n                :before-upload=\"beforeUpload\"\r\n                :on-preview=\"handlePreview\"\r\n                :on-remove=\"handleRemove\"\r\n                :before-remove=\"beforeRemove\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                multiple\r\n                :limit=\"5\"\r\n                :on-exceed=\"handleExceed\"\r\n                :file-list=\"fileList\">\r\n                <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                <div slot=\"tip\" class=\"el-upload__tip\"></div>\r\n         \r\n            </el-upload>\r\n            <div style=\"width: 45%; margin-top: 13vh;\">\r\n\r\n                <el-upload multiple :limit=\"5\" style=\"margin-bottom:20px\" class=\"avatar-uploader\" action=\"http://192.168.11.9:8082/bill/updateFile\" :show-file-list=\"false\"\r\n                :on-success=\"handleAvatarSuccess\" >\r\n                <el-button size=\"small\" type=\"primary\">アップロードファイル</el-button>\r\n               \r\n                <div v-if=\"bill.imageUrl\">\r\n                   \r\n                    <embed v-if=\"isPDF(bill.imageUrl)\" :src=\"bill.imageUrl\" type=\"application/pdf\" width=\"48%\" height=\"80%\" style=\"position: absolute; top: 10%; left: 51%;\">\r\n              \r\n                    <div  style=\"width: 40%; height: 80%; position: absolute; top: 10%; left: 55%; border-radius: 5px; display: flex; justify-content: center; align-items: center;\">\r\n                        <img v-if=\"!isPDF(bill.imageUrl)\"  :src=\"bill.imageUrl\" style=\"max-width: 100%; max-height: 100%;\">\r\n                    </div>\r\n                </div>\r\n              </el-upload>\r\n\r\n              <!-- 上面是upload按钮 -->\r\n                <el-form ref=\"form\" :model=\"bill\" label-width=\"120px\">\r\n                    <el-form-item label=\"帳票No\" v-if=\"rewriteFlag\">\r\n                        <span style=\"font-size: 16px;\">{{bill.billno}}</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"取引年月日\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <input type=\"text\" ref=\"datepickerInput\" v-model=\"transactionymdStr\" class=\"el-input__inner\"\r\n                            style=\"width: 85%; \" placeholder=\"入力或いは選択してください\">\r\n                    </el-form-item>\r\n                    <el-form-item label=\"取引金額\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <el-input v-model=\"bill.transactionAmount\" style=\"width: 85%;\" @blur=\"checkAmountFrom\"\r\n                            placeholder=\"￥\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"取引先\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <el-select v-model=\"bill.customerno\" filterable placeholder=\"入力又は選択\" style=\"width: 85%;\">\r\n                            <el-option v-for=\"customer in customers\" :key=\"customer.customerno\"\r\n                                :label=\"customer.customer\" :value=\"customer.customerno\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"帳票種類\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <el-select v-model=\"bill.billTypeno\" filterable placeholder=\"入力又は選択\" style=\"width: 85%;\">\r\n                            <el-option v-for=\"billType in billTypes\" :key=\"billType.billTypeno\"\r\n                                :label=\"billType.billType\" :value=\"billType.billTypeno\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"備考\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"bill.remark\" style=\"width: 85%;\"\r\n                            placeholder=\"訂正の時必ず入力してください\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <el-button size=\"medium\" type=\"primary\" @click=\"create\"\r\n                    :disabled=\"setCreateBt\">{{createBtText}}</el-button>\r\n                <el-button size=\"medium\" type=\"warning\" @click=\"cancel\">キャンセル</el-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n /* eslint-disable */\r\n//  上面这个注释是用来停报未使用函数错误的，优化的时候再删掉\r\n    import flatpickr from 'flatpickr';\r\n    import 'flatpickr/dist/flatpickr.css';\r\n    import 'flatpickr/dist/l10n/ja';\r\n    export default {\r\n        name: \"editView\",\r\n        data() {\r\n            return {\r\n                createBtText: '作 成',\r\n                rewriteFlag: false,\r\n                remarkFlag: true,\r\n                createBt: true,\r\n                billTypes: [],\r\n                customers: [],\r\n                //帳票詳細\r\n                transactionymdStr: '',\r\n                bill: {\r\n                    billno: '',\r\n                    updateuserid: '',\r\n                    billTypeno: '',\r\n                    customerno: '',\r\n\r\n                    // billType: '',\r\n                    // customer: '',\r\n                    \r\n                    remark: '',\r\n                    transactionAmount: '',\r\n                    // transactionymdStr: '',\r\n                    transactionymd: null,\r\n                    imageUrl: '',\r\n                },\r\n                fileList: [],\r\n                // updateuserid:'',暂时没用\r\n                deletingFile: null,\r\n\r\n            }\r\n        },\r\n        computed: {\r\n            //作成button启用判断\r\n            setCreateBt() {\r\n                if (this.bill.billno != null) {\r\n                    console.log(\"this.bill.billno != null\")\r\n                    // 编辑\r\n                    return this.bill.billTypeno == '' || this.bill.customerno == '' || this.bill.transactionAmount == '' || this.transactionymdStr == '' || this.bill.imageUrl == '' || this.bill.remark == '';\r\n                } else {\r\n                    // 新建\r\n                    \r\n                    console.log(\r\n                        this.bill.billTypeno , \"  ,\",\r\n                        this.bill.customerno ,\"  ,\",\r\n                        this.bill.transactionAmount,\"  ,\",\r\n                        this.transactionymdStr ,\"  ,\",\r\n                        this.bill.imageUrl ,\"  ,\",\r\n                        // 滚动条的默认值非空\r\n                    )\r\n                    return this.bill.billTypeno == '' || this.bill.customerno == '' || this.bill.transactionAmount == '' || this.transactionymdStr == '' || this.bill.imageUrl == '';\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            \r\n            create() {\r\n                this.bill.updateuserid = sessionStorage.getItem('userid');\r\n                // this.bill.billno = sessionStorage.getItem(\"billno\");\r\n                this.bill.transactionymd = new Date(this.transactionymdStr)\r\n\r\n                if (this.bill.billno != null) {\r\n                    this.$http.post('/bill/editBill', this.bill)\r\n                        .then(res => {\r\n                            if (res.data.code == 200) {\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    message: '訂正成功'\r\n                                });\r\n                                this.$router.push('/search');\r\n                            }\r\n                        })\r\n                } else {\r\n                    console.log(\"this.bill[0]\",this.bill)\r\n                    this.$http.post('/bill/createBill', this.bill)\r\n                    \r\n                        .then(res => {\r\n                            if (res.data.code == 200) {\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    message: '作成成功'\r\n                                });\r\n                                this.$router.push('/search');\r\n                            }\r\n                        })\r\n                }\r\n            },\r\n            cancel() {\r\n                this.$router.push('/search');\r\n            },\r\n            // handleAvatarSuccess(response) {\r\n            //     console.log('handleAvatarSuccess', response);\r\n\r\n            //     // 从 response 中获取响应数据\r\n            //     const responseData = response.data;\r\n            //     console.log('responseData: ',responseData)\r\n            //     // 使用 responseData 中的数据来查找匹配的文件\r\n            \r\n            //     this.bill.imageUrl = responseData.imageUrl;\r\n            //     console.log('this.bill.imageUrl: ',this.bill.imageUrl)\r\n            // },\r\n            handleAvatarSuccess(response) {\r\n                console.log('handleAvatarSuccess', response);\r\n                console.log('fileList:', this.fileList);\r\n\r\n                // 从 response 中获取响应数据\r\n                const responseData = response.data;\r\n\r\n                // 使用 responseData 中的数据来查找匹配的文件\r\n                const file = this.fileList.find(f => f.raw === responseData.file);\r\n\r\n                console.log('file:', file);\r\n\r\n                if (file) {\r\n                    file.imageUrl = responseData.imageUrl;\r\n                    console.log(file.imageUrl);\r\n                }\r\n                this.bill.imageUrl = responseData.imageUrl;\r\n            },\r\n            //金額のチェック\r\n            checkAmountFrom() {\r\n                if (!/^-?\\d+$/.test(this.bill.transactionAmount) && this.bill.transactionAmount != '') {\r\n                    this.$message({\r\n                        type: 'error',\r\n                        message: '整数のみ入力'\r\n                    });\r\n                    this.bill.transactionAmount = '';\r\n                }\r\n            },\r\n\r\n            //サーバーからデータを取得する\r\n            loadCustomers() {\r\n                this.$http.get('/category/getCustomers').then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.customers = res.data.data;\r\n                    }\r\n                });\r\n            },\r\n            loadBillTypes() {\r\n                this.$http.get('/category/getBillTypes').then(res => {\r\n                    if (res.data.code == 200) {\r\n                        this.billTypes = res.data.data;\r\n                    }\r\n                });\r\n            },\r\n\r\n            init() {\r\n                this.bill.billno = this.$route.params.billno;\r\n                if (this.bill.billno != undefined) {\r\n                    this.$http.get('/bill/getBillDetails/' + this.bill.billno)\r\n                        .then(res => {\r\n                          \r\n                            this.bill = res.data.data[0];\r\n                            console.log(this.bill)\r\n                            \r\n                            this.bill.customer = res.data.data[0].customer;\r\n                            this.bill.billType = res.data.data[0].billType;\r\n                            this.transactionymdStr = res.data.data[0].transactionymd;\r\n\r\n                        })\r\n                } else {\r\n                    this.bill.billTypeno = '';\r\n                    this.bill.customerno = '';\r\n                    this.bill.remark = '';\r\n                    this.bill.transactionAmount = '';\r\n                    this.transactionymdStr = '';\r\n                    this.bill.transactionymd = new Date(this.transactionymdStr);\r\n                    this.bill.updateuserid = '';\r\n                    this.bill.updateymd = '';\r\n                    this.bill.imageUrl = '';\r\n                    this.rewriteFlag = false;\r\n                    this.remarkFlag = true;\r\n                    this.createBtText = '作 成';\r\n                }\r\n            },\r\n\r\n\r\n            isPDF(url) {\r\n                return url.toLowerCase().endsWith('.pdf');\r\n            },\r\n            beforeUpload(file) {\r\n                const maxFileSize = 12; // 最大文件大小（MB）\r\n                const allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];\r\n\r\n                const isAllowedType = allowedTypes.includes(file.type);\r\n                const isLtMaxFileSize = file.size / 1024 / 1024 <= maxFileSize;\r\n\r\n                if (!isAllowedType) {\r\n                    this.$message.error('上传文件格式仅支持 JPG、PNG 和 PDF 格式！');\r\n                    return false;\r\n                }\r\n\r\n                if (!isLtMaxFileSize) {\r\n                    this.$message.error(`上传文件大小不能超过 ${maxFileSize}MB!`);\r\n                    return false;\r\n                }\r\n\r\n                // 设置默认的 imageUrl\r\n                file.imageUrl = '';\r\n\r\n                // 允许上传，并将文件添加到 fileList\r\n                this.fileList.push(file);\r\n\r\n                return true;\r\n            },\r\n\r\n\r\n\r\n            // handleRemove(file, fileList) {\r\n            //     console.log('delete里的： ',this.bill.imageUrl);\r\n\r\n            //     // 向后端发送 POST 请求，删除文件\r\n            //     this.$http.post('/bill/deleteTempFile', { imageUrl: this.bill.imageUrl })\r\n            //     .then(response => {\r\n            //         // 请求成功后，继续执行默认的移除操作\r\n            //         const index = fileList.indexOf(file);\r\n            //         if (index !== -1) {\r\n            //         fileList.splice(index, 1);\r\n            //         }\r\n                    \r\n            //         // 请求成功后清空 deletingFile\r\n            //         this.deletingFile = null;\r\n            //     })\r\n            //     .catch(error => {\r\n            //         // 处理请求失败的情况\r\n            //         console.error('Error removing file:', error);\r\n\r\n            //         // 请求失败时清空 deletingFile\r\n            //         this.deletingFile = null;\r\n            //     });\r\n            // },\r\n            handleRemove(file, fileList) {\r\n                console.log('handleRemovefile.imageUrl: ',this.fileList.imageUrl)\r\n                // 向后端发送 POST 请求，删除文件\r\n                this.$http.post('/bill/deleteTempFile', { imageUrl: file.imageUrl })\r\n                .then(response => {\r\n                    // 请求成功后，继续执行默认的移除操作\r\n                    const index = fileList.indexOf(file);\r\n                    if (index !== -1) {\r\n                        fileList.splice(index, 1);\r\n                    }\r\n\r\n                    // 请求成功后清空 deletingFile\r\n                    this.deletingFile = null;\r\n                })\r\n                .catch(error => {\r\n                    // 处理请求失败的情况\r\n                    console.error('Error removing file:', error);\r\n\r\n                    // 请求失败时清空 deletingFile\r\n                    this.deletingFile = null;\r\n                });\r\n            },\r\n\r\n\r\n            handlePreview(file) {\r\n                console.log(file);\r\n            },\r\n            \r\n            handleExceed(files, fileList) {\r\n                this.$message.warning(`当前限制选择 5 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n            },\r\n           \r\n            beforeRemove(file, fileList) {\r\n                return this.$confirm(`确定移除 ${ file.name }？`);\r\n            },\r\n            getUploadUrl() {\r\n            return `http://192.168.11.9:8082/bill/updateFile?userid=${sessionStorage.getItem('userid')}`;\r\n            },\r\n  \r\n        },\r\n        watch: {\r\n            $route() {\r\n                this.init();\r\n            }\r\n        },\r\n        mounted() {\r\n            flatpickr(this.$refs.datepickerInput, {\r\n                dateFormat: 'Y/m/d',\r\n                locale: 'ja',\r\n                firstDayOfWeek: '0',\r\n                allowInput: 'true',\r\n                minDate: \"1990/01/01\",\r\n                maxDate: \"today\",\r\n            });\r\n            this.loadCustomers();\r\n            this.loadBillTypes();\r\n        },\r\n        created() {\r\n            this.init();\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .el-table :deep() .cell {\r\n        /* overflow: hidden; */\r\n        /* text-overflow: ellipsis; */\r\n        white-space: nowrap;\r\n\r\n    }\r\n\r\n    .block {\r\n        position: absolute;\r\n        bottom: 40px;\r\n        left: 47%;\r\n    }\r\n\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 178px;\r\n        height: 178px;\r\n        line-height: 178px;\r\n        text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n        width: 178px;\r\n        height: 178px;\r\n        display: block;\r\n    }\r\n\r\n    .el-button {\r\n        margin: 5px;\r\n    }\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}