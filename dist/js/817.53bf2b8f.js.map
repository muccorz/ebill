{"version":3,"file":"js/817.53bf2b8f.js","mappings":"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","sources":["webpack://ebill/./src/views/roles.vue","webpack://ebill/src/views/roles.vue","webpack://ebill/./src/views/roles.vue?4b16","webpack://ebill/./src/views/roles.vue?dc43"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('div',{staticClass:\"h4\",staticStyle:{\"font-weight\":\"700\",\"text-align\":\"left\"}},[_vm._v(\"ユーザー管理\")]),_c('el-divider'),_c('el-button',{staticClass:\"mt-2 el-icon-edit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.CreateUserVisible= true}}},[_vm._v(\"ユーザー新規\")]),_c('el-dialog',{attrs:{\"title\":\"ユーザー新規\",\"visible\":_vm.CreateUserVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.CreateUserVisible=$event},\"closed\":_vm.userInit}},[_c('el-form',{attrs:{\"model\":_vm.user}},[_c('el-form-item',{attrs:{\"label\":\"ユーザーID\"}},[(_vm.flag1)?_c('span',{staticClass:\"text-danger\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"ユーザーIDを入力してください\")]):_vm._e(),(_vm.flag3)?_c('span',{staticClass:\"text-danger\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"ユーザーIDは数字のみ\")]):_vm._e(),_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"ユーザーIDを入力してください\"},on:{\"blur\":_vm.handUserid},model:{value:(_vm.user.userid),callback:function ($$v) {_vm.$set(_vm.user, \"userid\", $$v)},expression:\"user.userid\"}})],1),_c('el-form-item',{attrs:{\"label\":\"ユーザー名\"}},[(_vm.flag4)?_c('span',{staticClass:\"text-danger\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"ユーザー名を入力してください\")]):_vm._e(),_c('el-input',{attrs:{\"placeholder\":\"ユーザー名を入力してください\"},on:{\"blur\":_vm.handleUsername},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"パスワード\"}},[(_vm.flag2)?_c('span',{staticClass:\"text-danger\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"パスワードを入力してください\")]):_vm._e(),_c('el-input',{attrs:{\"placeholder\":\"パスワードを入力してください\",\"show-password\":\"\"},on:{\"blur\":_vm.handlePassword},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"ユーザー権限\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"権限種類を選択してください\"},model:{value:(_vm.user.rolesno),callback:function ($$v) {_vm.$set(_vm.user, \"rolesno\", $$v)},expression:\"user.rolesno\"}},[_c('el-option',{attrs:{\"label\":\"操作者\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"閲覧者\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"管理者\",\"value\":\"3\"}}),_c('el-option',{attrs:{\"label\":\"システム管理者\",\"value\":\"4\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.CreateUserVisible = false}}},[_vm._v(\"キャンセル\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.canLogin},on:{\"click\":_vm.createUser}},[_vm._v(\"追 加\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.users}},[_c('el-table-column',{attrs:{\"prop\":\"userid\",\"label\":\"ユーザー番号\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"ユーザー名\"}}),_c('el-table-column',{attrs:{\"prop\":\"rolesno\",\"label\":\"権限\",\"formatter\":_vm.userFormatter}}),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('button',{staticClass:\"el-button el-button--primary el-button--small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.editUserbt(scope.row)}}},[_vm._v(\"編集\")]),_c('el-dialog',{attrs:{\"title\":\"ユーザー編集\",\"visible\":_vm.editUserVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.editUserVisible=$event},\"closed\":_vm.userInit}},[_c('el-form',{attrs:{\"model\":_vm.user}},[_c('el-form-item',{attrs:{\"label\":\"ユーザーID\"}},[(_vm.flag1)?_c('span',{staticClass:\"text-danger\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"ユーザーIDを入力してください\")]):_vm._e(),(_vm.flag3)?_c('span',{staticClass:\"text-danger\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"ユーザーIDは数字のみ\")]):_vm._e(),_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"ユーザーIDを入力してください\"},on:{\"blur\":_vm.handUserid},model:{value:(_vm.user.userid),callback:function ($$v) {_vm.$set(_vm.user, \"userid\", $$v)},expression:\"user.userid\"}})],1),_c('el-form-item',{attrs:{\"label\":\"ユーザー名\"}},[(_vm.flag4)?_c('span',{staticClass:\"text-danger\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"ユーザー名を入力してください\")]):_vm._e(),_c('el-input',{attrs:{\"placeholder\":\"ユーザー名を入力してください\"},on:{\"blur\":_vm.handleUsername},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"パスワード\"}},[_c('el-input',{attrs:{\"placeholder\":\"パスワードを編集したい方のみ入力\",\"show-password\":\"\"},on:{\"blur\":_vm.handlePassword},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"ユーザー権限\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"権限種類を選択してください\"},model:{value:(_vm.user.rolesno),callback:function ($$v) {_vm.$set(_vm.user, \"rolesno\", $$v)},expression:\"user.rolesno\"}},[_vm._l((_vm.roles),function(role){return _c('el-option',{key:role.no,attrs:{\"label\":role.roleName,\"value\":role.no}})}),_c('el-option',{key:\"1\",attrs:{\"label\":\"操作者\",\"value\":\"1\"}}),_c('el-option',{key:\"2\",attrs:{\"label\":\"閲覧者\",\"value\":\"2\"}}),_c('el-option',{key:\"3\",attrs:{\"label\":\"管理者\",\"value\":\"3\"}}),_c('el-option',{key:\"4\",attrs:{\"label\":\"システム管理者\",\"value\":\"4\"}})],2)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editUserVisible = false}}},[_vm._v(\"キャンセル\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.canEdit},on:{\"click\":_vm.editUser}},[_vm._v(\"完 了\")])],1)],1),_vm._v(\"   \"),_c('button',{staticClass:\"el-button el-button--danger el-button--small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteUser(scope.row)}}},[_vm._v(\"削除\")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"text-align: left;\">\r\n        <div class=\"h4\" style=\"font-weight: 700;text-align:left\">ユーザー管理</div>\r\n        <el-divider></el-divider>\r\n        <el-button type=\"primary\" class=\"mt-2 el-icon-edit\" @click=\"CreateUserVisible= true\">ユーザー新規</el-button>\r\n        <!-- ユーザー新規ダイアログ -->\r\n        <el-dialog title=\"ユーザー新規\" :visible.sync=\"CreateUserVisible\" :close-on-click-modal=\"false\" @closed=\"userInit\">\r\n            <el-form :model=\"user\">\r\n                <el-form-item label=\"ユーザーID\">\r\n                    <span class=\"text-danger\" style=\"font-size: 12px;\" v-if=\"flag1\">ユーザーIDを入力してください</span>\r\n                    <span class=\"text-danger\" style=\"font-size: 12px;\" v-if=\"flag3\">ユーザーIDは数字のみ</span>\r\n                    <el-input v-model=\"user.userid\" autocomplete=\"off\" placeholder=\"ユーザーIDを入力してください\"\r\n                        @blur=\"handUserid\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"ユーザー名\">\r\n                    <span class=\"text-danger\" style=\"font-size: 12px;\" v-if=\"flag4\">ユーザー名を入力してください</span>\r\n                    <el-input v-model=\"user.username\" placeholder=\"ユーザー名を入力してください\" @blur=\"handleUsername\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"パスワード\">\r\n                    <span class=\"text-danger\" style=\"font-size: 12px;\" v-if=\"flag2\">パスワードを入力してください</span>\r\n                    <el-input v-model=\"user.password\" placeholder=\"パスワードを入力してください\" show-password\r\n                        @blur=\"handlePassword\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"ユーザー権限\">\r\n                    <el-select v-model=\"user.rolesno\" placeholder=\"権限種類を選択してください\" style=\"width: 100%;\">\r\n                        <el-option label=\"操作者\" value=\"1\"></el-option>\r\n                        <el-option label=\"閲覧者\" value=\"2\"></el-option>\r\n                        <el-option label=\"管理者\" value=\"3\"></el-option>\r\n                        <el-option label=\"システム管理者\" value=\"4\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"CreateUserVisible = false\">キャンセル</el-button>\r\n                <el-button type=\"primary\" @click=\"createUser\" :disabled=\"!canLogin\">追 加</el-button>\r\n            </div>\r\n        </el-dialog>\r\n\r\n        <el-table :data=\"users\" style=\"width: 100%\">\r\n            <el-table-column prop=\"userid\" label=\"ユーザー番号\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"username\" label=\"ユーザー名\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"rolesno\" label=\"権限\" :formatter=\"userFormatter\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"address\" label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                    <button type=\"button\" class=\"el-button el-button--primary el-button--small\"\r\n                        @click=\"editUserbt(scope.row)\">編集</button>\r\n                    <!-- ユーザー編集ダイアログ -->\r\n                    <el-dialog title=\"ユーザー編集\" :visible.sync=\"editUserVisible\" :close-on-click-modal=\"false\"\r\n                        @closed=\"userInit\">\r\n                        <el-form :model=\"user\">\r\n                            <el-form-item label=\"ユーザーID\">\r\n                                <span class=\"text-danger\" style=\"font-size: 12px;\" v-if=\"flag1\">ユーザーIDを入力してください</span>\r\n                                <span class=\"text-danger\" style=\"font-size: 12px;\" v-if=\"flag3\">ユーザーIDは数字のみ</span>\r\n                                <el-input v-model=\"user.userid\" autocomplete=\"off\" placeholder=\"ユーザーIDを入力してください\"\r\n                                    @blur=\"handUserid\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"ユーザー名\">\r\n                                <span class=\"text-danger\" style=\"font-size: 12px;\" v-if=\"flag4\">ユーザー名を入力してください</span>\r\n                                <el-input v-model=\"user.username\" placeholder=\"ユーザー名を入力してください\"\r\n                                    @blur=\"handleUsername\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"パスワード\">\r\n                                <el-input v-model=\"user.password\" placeholder=\"パスワードを編集したい方のみ入力\" show-password\r\n                                    @blur=\"handlePassword\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"ユーザー権限\">\r\n                                <el-select v-model=\"user.rolesno\" placeholder=\"権限種類を選択してください\" style=\"width: 100%;\">\r\n                                    <el-option v-for=\"role in roles\" :key=\"role.no\" :label=\"role.roleName\"\r\n                                        :value=\"role.no\">\r\n                                    </el-option>\r\n                                    <el-option key=\"1\" label=\"操作者\" value=\"1\"></el-option>\r\n                                    <el-option key=\"2\" label=\"閲覧者\" value=\"2\"></el-option>\r\n                                    <el-option key=\"3\" label=\"管理者\" value=\"3\"></el-option>\r\n                                    <el-option key=\"4\" label=\"システム管理者\" value=\"4\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                        <div slot=\"footer\" class=\"dialog-footer\">\r\n                            <el-button @click=\"editUserVisible = false\">キャンセル</el-button>\r\n                            <el-button type=\"primary\" @click=\"editUser\" :disabled=\"!canEdit\">完 了</el-button>\r\n                        </div>\r\n                    </el-dialog> &nbsp;\r\n                    <button type=\"button\" class=\"el-button el-button--danger el-button--small\"\r\n                        @click=\"deleteUser(scope.row)\">削除</button>\r\n                </template>\r\n\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'rolesView',\r\n        data() {\r\n            return {\r\n                CreateUserVisible: false,\r\n                editUserVisible: false,\r\n                //ユーザー新規フォーム\r\n                user: {\r\n                    userid: '',\r\n                    username: '',\r\n                    password: '',\r\n                    rolesno: ''\r\n                },\r\n                formLabelWidth: '100px',\r\n                //サーバーから取得したユーザーデータ\r\n                users: [],\r\n                flag1: false,\r\n                flag2: false,\r\n                flag3: false,\r\n                flag4: false,\r\n                roles: [\r\n                    { no: 1, roleName: '操作者' },\r\n                    { no: 2, roleName: '閲覧者' },\r\n                    { no: 3, roleName: '管理者' },\r\n                    { no: 4, roleName: 'システム管理者' }\r\n                ]\r\n            }\r\n        },\r\n        computed: {\r\n            canLogin() {\r\n                return !this.flag1 && !this.flag2 && !this.flag3 && !this.flag4 && this.user.userid.length != 0 && this.user.username.length != 0 && this.user.password.length != 0 && this.user.rolesno.length != 0\r\n            },\r\n            canEdit() {\r\n                return !this.flag1 && !this.flag3 && !this.flag4 && this.user.userid.length != 0 && this.user.username.length != 0 && this.user.rolesno.length != 0\r\n            }\r\n        },\r\n        created() {\r\n            this.init()\r\n        },\r\n        methods: {\r\n            // ユーザー編集，user对象的密码可能为空，如果为空就不update密码字段\r\n            editUser() {\r\n                this.$http\r\n                    .post(\"/user/editUser\", this.user)\r\n                    .then(res => {\r\n                        if (res.data.code == 200) {\r\n                            this.editUserVisible = false;\r\n                            this.$message({\r\n                                message: 'ユーザー編集成功',\r\n                                type: 'success'\r\n                            });\r\n                            this.init();\r\n                        }\r\n                    })\r\n                this.editUserVisible = false;\r\n            },\r\n            editUserbt(user) {\r\n                this.editUserVisible = true,\r\n                    this.user.userid = user.userid,\r\n                    this.user.username = user.username,\r\n                    this.user.rolesno = user.rolesno\r\n            },\r\n            // ユーザー削除\r\n            deleteUser(user) {\r\n                this.$confirm('これでユーザーは完全に削除されます，続きますが？', 'このユーザーを削除しますか？', {\r\n                    confirmButtonText: '続く',\r\n                    cancelButtonText: 'キャンセル',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.$http\r\n                        .get(\"/user/deleteUser/\" + user.userid)\r\n                        .then(res => {\r\n                            if (res.data.code == 200) {\r\n                                this.$message({\r\n                                    message: '削除成功',\r\n                                    type: 'success'\r\n                                });\r\n                                this.init()\r\n                            }\r\n                        })\r\n                })\r\n            },\r\n            // ユーザー新規\r\n            createUser() {\r\n                this.$http\r\n                    .post(\"/user/createUser\", this.user)\r\n                    .then(res => {\r\n                        if (res.data.code == 200) {\r\n                            this.CreateUserVisible = false;\r\n                            this.$message({\r\n                                message: 'ユーザー新規成功',\r\n                                type: 'success'\r\n                            });\r\n                            this.init();\r\n                        }\r\n                    })\r\n                this.CreateUserVisible = false;\r\n            },\r\n            // ユーザー権限のフォーマット\r\n            userFormatter(row) {\r\n                if (row.rolesno == 1) {\r\n                    return '操作者'\r\n                } else if (row.rolesno == 2) {\r\n                    return '閲覧者'\r\n                } else if (row.rolesno == 3) {\r\n                    return '管理者'\r\n                } else if (row.rolesno == 4) {\r\n                    return 'システム管理者'\r\n                }\r\n            },\r\n            // ユーザーIDのバリデーション\r\n            handUserid() {\r\n                if (this.user.userid == '') {\r\n                    this.flag1 = true\r\n                } else {\r\n                    this.flag1 = false\r\n                }\r\n                if (this.user.userid.length != 0 && !/^[0-9]+$/.test(this.user.userid)) {\r\n                    this.flag3 = true\r\n                } else {\r\n                    this.flag3 = false\r\n                }\r\n            },\r\n            // ユーザー名のバリデーション\r\n            handleUsername() {\r\n                if (this.user.username == '') {\r\n                    this.flag4 = true\r\n                } else {\r\n                    this.flag4 = false\r\n                }\r\n            },\r\n            // パスワードのバリデーション\r\n            handlePassword() {\r\n                if (this.user.password == '') {\r\n                    this.flag2 = true\r\n                } else {\r\n                    this.flag2 = false\r\n                }\r\n            },\r\n            //ユーザー一覧取得、初期化クリア\r\n            init() {\r\n                this.$http.get(\"/user/getUsers\")\r\n                    .then(res => {\r\n                        if (res.data.code == 200) {\r\n                            this.users = res.data.data\r\n                        }\r\n                    })\r\n                this.userInit();\r\n            },\r\n            userInit() {\r\n                this.user.userid = '',\r\n                    this.user.username = '',\r\n                    this.user.password = '',\r\n                    this.user.rolesno = '',\r\n                    this.flag1 = false,\r\n                    this.flag2 = false,\r\n                    this.flag3 = false,\r\n                    this.flag4 = false\r\n            },\r\n        },\r\n    }\r\n</script>\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./roles.vue?vue&type=template&id=40dc3c4a&scoped=true\"\nimport script from \"./roles.vue?vue&type=script&lang=js\"\nexport * from \"./roles.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40dc3c4a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","staticClass","_v","attrs","on","$event","CreateUserVisible","userInit","user","flag1","_e","flag3","handUserid","model","value","userid","callback","$$v","$set","expression","flag4","handleUsername","username","flag2","handlePassword","password","rolesno","slot","canLogin","createUser","users","userFormatter","scopedSlots","_u","key","fn","scope","editUserbt","row","editUserVisible","_l","roles","role","no","roleName","canEdit","editUser","deleteUser","staticRenderFns","name","data","formLabelWidth","computed","length","created","init","methods","$http","post","then","res","code","$message","message","type","$confirm","confirmButtonText","cancelButtonText","get","test","component"],"sourceRoot":""}